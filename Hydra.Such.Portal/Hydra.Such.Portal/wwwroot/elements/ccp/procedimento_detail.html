<link rel="import" href="/lib/paper-tabs-master/paper-tab.html" />
<link rel="import" href="/lib/paper-tabs-master/paper-tabs.html" />
<link rel="import" href="/lib/iron-pages-master/iron-pages.html" />
<link rel="import" href="/lib/iron-menu-behavior/iron-menubar-behavior.html" />
<link rel="import" href="/lib/iron-form/iron-form.html" />
<link rel="import" href="/lib/paper-input/paper-input.html" />
<link rel="import" href="/lib/paper-button/paper-button.html" />
<link rel="import" href="/lib/paper-toast-master/paper-toast.html" />

<link rel="import" href="/lib/vaadin-valo-theme/vaadin-date-picker.html">
<link rel="import" href="/lib/vaadin-valo-theme/vaadin-checkbox.html">
<link rel="import" href="/lib/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="/lib/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="/lib/vaadin-grid/vaadin-grid.html">
<link rel="import" href="/lib/vaadin-checkbox/vaadin-checkbox.html">
<link rel="import" href="/lib/vaadin-combo-box/vaadin-combo-box.html" />

<link rel="import" href="/lib/vaadin-radio-button/vaadin-radio-button.html">
<link rel="import" href="/lib/vaadin-radio-button/vaadin-radio-button-group.html">

<link rel="import" href="/lib/such-textarea/such-textarea.html">
<link rel="import" href="/lib/paper-tooltip-master/paper-tooltip.html">
<link rel="import" href="/lib/neon-animation/web-animations.html">

<link rel="import" href="/lib/paper-collapse-item/paper-collapse-group.html">
<link rel="import" href="/lib/paper-collapse-item/paper-collapse-item.html">

<link rel="import" href="/lib/vaadin-context-menu/vaadin-context-menu.html" />
<link rel="import" href="/lib/vaadin-list-box/vaadin-list-box.html" />
<link rel="import" href="/lib/vaadin-item/vaadin-item.html" />
<!--<link rel="import" href="/lib/paper-menu/paper-menu.html" />-->
<!--<link rel="import" href="/lib/paper-item/paper-item.html" />-->

<!-- NR 20180226 -->
<link rel="import" href="/lib/such-selectbox/such-selectbox.html">

<dom-module id="x-procedimentodetails">
    <template>
        <!-- STYLES -->
        <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="/lib/font-awesome-4.7.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="/css/main.css" />

        <style>
            .mb-15 {
                margin-bottom: 15px;
            }

            .mb-7 {
                margin-bottom: 7px;
            }

            vaadin-combo-box {
                margin-top: 0px !important;
                width: 100% !important;
            }

            vaadin-date-picker {
                margin-top: 0px !important;
                width: 100% !important;
            }

            vaadin-text-field {
                margin-top: 0px !important;
                width: 100%;
            }

            input[readonly] {
                border: 2px solid transparent;
            }

            input {
                font: inherit;
            }

            .break_clear {
                margin-top: 15px;
            }

            hr {
                line-height: 5px;
            }

            .customHr {
                line-height: 1px;
                background-color: black;
            }

            paper-tooltip {
                padding: 11px;
                right: 5px;
                opacity: 1;
                box-sizing: border-box;
                pointer-events: none;
                max-width: 500px;
                left: 2px !important;
                right: none;
                white-space: initial;
                --paper-tooltip: {
                                  font-size: 13px;
                                  background: #f5f5f5;
                                  background: white;
                                  color: #2A2A2A;
                                  padding: 10px;
                                  line-height: 1.3em;
                                  -webkit-box-shadow: 5px 5px 10px -1px rgba(0,0,0,0.2);
                                  -moz-box-shadow: 5px 5px 10px -1px rgba(0,0,0,0.2);
                                  box-shadow: 5px 5px 10px -1px rgba(0,0,0,0.2);
                             }
            }

            [part="label"] {
                color: rgba(48, 64, 84, 0.52);
                margin-bottom: 1px;
            }

            .title--bgblue {
                border: none;
                border-radius: 6px;
                color: white !important;
                background-color: cornflowerblue;
                border: none !important;
            }

            .title--bgyellow {
                border: none;
                border-radius: 6px;
                color: dimgrey !important;
                background-color: yellow;
                border: none !important;
            }

            paper-collapse-item {
                --paper-item: { padding: 0 0;};
                --paper-collapse-item-header: {
                        padding: 0 15px;
                        color: #333;
                        background-color: #f5f5f5;
                        border-bottom: solid #ddd 1px;
                        border-top-left-radius: 3px;
                        border-top-right-radius: 3px;

                    } --paper-collapse-toogle-icon: {
                    //display: none;
                    } --paper-collapse-item-content {

                    }
            }

            .btn--confirm {
                min-width: 50px !important;
                height: 30px !important;
                padding: 5px 10px;
                cursor: pointer;
                background: #71BCC1;
                color: white;
                margin-top: 7px;
            }

            .btn--sendtoevaluate {
                min-width: 50px !important;
                height: 30px !important;
                padding: 5px 10px;
                cursor: pointer;
                margin-top: 7px;
            }

            .btn--remove {
                min-width: 50px !important;
                height: 30px !important;
                padding: 5px 10px;
                cursor: pointer;
                margin-top: 7px;
                color: white;
                background: #D5662F;
            }
            /*zpgm*/
            .btn--return {
                min-width: 50px !important;
                height: 30px !important;
                padding: 5px 10px;
                cursor: pointer;
                margin-top: 7px;
                color: white;
                background: #9E21FF;
            }

            .btn--cntxt-menu {
                min-width: 50px !important;
                height: 30px !important;
                padding: 5px 10px;
                cursor: pointer;
                margin-top: 7px;
                color: white;
                background: #FF7259;
            }

            vaadin-grid.disabled:after {
                content: "";
                position: absolute;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                width: 100%;
                cursor: not-allowed;
            }

            paper-button.disabled {
                cursor: not-allowed;
                pointer-events: none;
            }
        </style>

        <!-- Dropdowns populate.b -->
        <iron-ajax url="/PopulateDropdowns/GetRegionCode"
                   last-response="{{CBRegions}}"
                   auto method="post"
                   handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetFunctionalAreaCode"
                   last-response="{{CBFunctionalAreas}}"
                   auto method="post" handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetResponsabilityCenterCode"
                   last-response="{{CBResponsabilityCenterCodes}}"
                   auto method="post"
                   handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetPocedimentosCcpProcedimentoType"
                   last-response="{{LProcedimentoType}}"
                   auto method="post"
                   handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetProcedimentosCcpType"
                   last-response="{{LType}}"
                   auto method="post"
                   handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetProcedimentosCcpStates"
                   last-response="{{LProcedimentoState}}"
                   auto method="post" handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetBoolValues"
                   last-response="{{LBoolValues}}"
                   auto method="post" handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetPocedimentosAbertoFechado"
                   last-response="{{LAbertoFechado}}"
                   auto method="post" handle-as="json"
                   content-type="application/json">
        </iron-ajax>

        <!-- NR 20180223 -->
        <iron-ajax url="/PopulateDropdowns/GetTipoLinhasProdutosCCP" 
                   last-response="{{CBTipo}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>

        <!-- NR 20180226 -->
        <iron-ajax url="/PopulateDropdowns/GetLocations" 
                   last-response="{{CBLocations}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetProducts" 
                   last-response="{{CBItems}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetUnitOfMeasureByCode" 
                   last-response="{{LCBMeasuresUnit}}" 
                   auto method="post"
                   id="measuresunit_ajax"
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>

        <!-- NR 20180228 -->
        <iron-ajax url="/PopulateDropdowns/GetObjectoDeContratoCCP" 
                   last-response="{{CBObjectoContrato}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/PopulateDropdowns/GetAllGestorProcesso" 
                   last-response="{{CBGestorProcesso}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180305-->
        <iron-ajax url="/PopulateDropdowns/getSupplier" 
                   last-response="{{cboSupplier}}" 
                   auto method="post" 
                   handle-as="json" 
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/GetUsersWhoAreElementosJuri"
                   last-response="{{LUsers}}"
                   auto method="post"
                   handle-as="json"
                   content-type="application/json">
        </iron-ajax>
        <!-- Dropdowns populate.e -->

        <!-- Controller actions.b -->
        <iron-ajax url="/ProcedimentosCcps/GetUserFeatures"
                   last-response="{{UserAccesses}}"
                   method="post"
                   handle-as="json"
                   id="ajax_userpermissions"
                   on-response="_userPermissionsResponseProcessor"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/GetProcedimentoDetails"
                   last-response="{{data}}"
                   method="post"
                   handle-as="json"
                   id="page_databound_ajax"
                   on-response="_responseProcessor"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/DeleteProcedimento"
                   last-response="{{deletedData}}"
                   method="post"
                   handle-as="json"
                   id="ajax_delete_procedimento"
                   on-response="_responseDeleteProcessor"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/UpdateProcedimento"
                   last-response="{{ProcedimentoUpdated}}"
                   method="post"
                   handle-as="json"
                   id="ajax_update_procedimento"
                   on-response="_updateProcedimentoResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/CreateElementoJuri"
                   last-response="{{ElementoCreated}}"
                   method="post"
                   handle-as="json"
                   id="ajax_createelementojuri"
                   on-response="_createElementoJuriResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/DeleteElementoJuri"
                   last-response="{{ElementoDeleted}}"
                   method="post"
                   handle-as="json"
                   id="ajax_deleteelementojuri"
                   on-response="_deleteElementoJuriResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/SubmitProcedimento"
                   last-response="{{ProcedimentoSubmitted}}"
                   method="post"
                   handle-as="json"
                   id="ajax_submitprocedimento"
                   on-response="_submitProcedimentoResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/ConfirmProcedimento"
                   last-response="{{ ProcedimentoConfirmed }}"
                   method="post"
                   handle-as="json"
                   id="ajax_confirmImobContabilidade"
                   on-response="_confirmImobilizadoContabResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/ReturnToArea"
                   last-response="{{ ProcedimentoReturnedToArea }}"
                   method="post"
                   handle-as="json"
                   id="ajax_imobReturnToArea"
                   on-response="_imobReturnToAreaResponse"
                   content-type="application/json">
        </iron-ajax>

        <!-- NR 20180226 -->
        <iron-ajax url="/ProcedimentosCcps/CreateLinhaProdutoServico"
                   last-response="{{LinhaProdutoServicoCreated}}"
                   method="post"
                   handle-as="json"
                   id="page_createaLinhaProdutoServico_ajax"
                   on-response="_createLinhaProdutoServicoResponse"
                   content-type="application/json">
        </iron-ajax>

        <!-- NR 20180227 -->
        <iron-ajax url="/ProcedimentosCcps/DeleteLinhaProdutoServico"
                   last-response="{{LinhaProdutoServicoDeleted}}"
                   method="post"
                   handle-as="json"
                   id="page_deleteLinhaProdutoServico_ajax"
                   on-response="_deleteLinhaProdutoServicoResponse"
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180301-->
        <iron-ajax url="/ProcedimentosCcps/SubmitToAccounting"
                   last-response="{{ EnviarParaFinanceiros }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaFinanceiros"
                   on-response="_enviarParaFinanceirosResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/SubmitToLegalDepartment"
                   last-response="{{ EnviarParaJuridicos }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaJuridicos"
                   on-response="_enviarParaJuridicosResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/SubmitToArea"
                   last-response="{{ EnviarParaArea }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaArea"
                   on-response="_enviarParaAreaResponse"
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180306-->
        <iron-ajax url="/ProcedimentosCcps/ReturnToAreaToJustifyProcess"
                   last-response="{{ DevolverParaArea }}"
                   method="post"
                   handle-as="json"
                   id="ajax_devolverParaArea"
                   on-response="_devolverParaAreaResponse"
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180308-->
        <iron-ajax url="/ProcedimentosCcps/SubmitToBoardForOpening"
                   last-response="{{ EnviarParaCAAbertura }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaCAAbertura"
                   on-response="_enviarParaCAAberturaResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/SubmitToBoardForGranting"
                   last-response="{{ EnviarParaCAAdjudicacao }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaCAAdjudicacao"
                   on-response="_enviarParaCAAdjudicacaoResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/SubmitToArea_5"
                   last-response="{{ EnviarParaArea_5 }}"
                   method="post"
                   handle-as="json"
                   id="ajax_enviarParaArea_5"
                   on-response="_enviarParaArea_5Response"
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180309-->
        <iron-ajax url="/ProcedimentosCcps/ReturnToAcquisition"
                   last-response="{{ DevolverACompras_5 }}"
                   method="post"
                   handle-as="json"
                   id="ajax_devolverACompras_5"
                   on-response="_devolverACompras_5Response"
                   content-type="application/json">
        </iron-ajax>

        <!--NR 20180307-->
        <iron-ajax url="/ProcedimentosCcps/GetPermission"
                   last-response="{{ PedirAutorizacaoConfirmed }}"
                   method="post"
                   handle-as="json"
                   id="ajax_pedirAutorizacao"
                   on-response="_pedirAutorizacaoResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/ReturnToAccounting"
                   last-response="{{ DevolverContabilidadeConfirmed }}"
                   method="post"
                   handle-as="json"
                   id="ajax_devolverContabilidade"
                   on-response="_devolverContabilidadeResponse"
                   content-type="application/json">
        </iron-ajax>
        <iron-ajax url="/ProcedimentosCcps/CloseProcedimentoArea"
                   last-response="{{ FecharProcessoConfirmed }}"
                   method="post"
                   handle-as="json"
                   id="ajax_fecharProcesso"
                   on-response="_fecharProcessoResponse"
                   content-type="application/json">
        </iron-ajax>
        <!-- Controller actions.e -->
        
        <!-- Header section of the Procedimento details -->
        <div class="panel panel-default">
            <div class="panel-heading">Cabeçalho</div>
            <div class="panel-body">
                <div>
                    <div class="row break_clear">
                        <div class="col-sm-3">
                            <vaadin-text-field type="text" value="{{data.no}}" id="no" name="no" label="Nº Procedimento" disabled="true"> </vaadin-text-field>
                        </div>
                        <div class="col-sm-3">
                            <vaadin-combo-box items="[[CBRegions]]" id="codigoRegiao" item-value-path="id" item-label-path="value" value="{{data.codigoRegiao}}" label="Cód. Região" disabled="{{ !_permissions.update }}" required error-message="Este campo é obrigatório">
                                <template>
                                    <table width="250px">
                                        <tr>
                                            <td width="20%">[[item.id]]</td>
                                            <td width="80%">
                                                <b>[[item.value]]</b>
                                            </td>
                                        </tr>
                                    </table>
                                </template>
                            </vaadin-combo-box>
                        </div>
                        <div class="col-sm-3">
                            <vaadin-combo-box items="[[CBFunctionalAreas]]" id="codigoAreaFuncional" item-value-path="id" item-label-path="value" value="{{data.codigoAreaFuncional}}" label="Àrea Funcional" disabled="{{ !_permissions.update }}" required error-message="Este campo é obrigatório">
                                <template>
                                    <table width="250px">
                                        <tr>
                                            <td width="30%">[[item.id]]</td>
                                            <td width="70%">
                                                <b>[[item.value]]</b>
                                            </td>
                                        </tr>
                                    </table>
                                </template>
                            </vaadin-combo-box>
                        </div>
                        <div class="col-sm-3">
                            <vaadin-combo-box items="[[CBResponsabilityCenterCodes]]" id="codigoCentroResponsabilidade" item-value-path="id" item-label-path="value" value="{{data.codigoCentroResponsabilidade}}" label="Centro Responsabilidade" disabled="{{ !_permissions.update }}" required error-message="Este campo é obrigatório">
                                <template>
                                    <table width="180px">
                                        <tr>
                                            <td width="40%">[[item.id]]</td>
                                            <td width="60%">
                                                <b>[[item.value]]</b>
                                            </td>
                                        </tr>
                                    </table>
                                </template>
                            </vaadin-combo-box>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="row break_clear">
                        <div class="col-sm-3">
                            <vaadin-combo-box items="[[LProcedimentoState]]" item-value-path="id" item-label-path="value" required value="{{data.estado}}" label="Estado" disabled="true">
                                <template>
                                    <paper-icon-item>
                                        <paper-item-body two-line>
                                            <div>[[item.value]]</div>
                                        </paper-item-body>
                                    </paper-icon-item>
                                </template>
                            </vaadin-combo-box>
                        </div>
                        <div class="col-sm-3">
                            <vaadin-combo-box items="[[LType]]" item-value-path="id" item-label-path="value" required value="{{data.tipo}}" label="Tipo">
                                <template>
                                    <paper-icon-item>
                                        <paper-item-body two-line>
                                            <div>[[item.value]]</div>
                                        </paper-item-body>
                                    </paper-icon-item>
                                </template>
                            </vaadin-combo-box>
                        </div>
                        <div class="col-sm-3">
                            <div class="row">
                                <div class="col-sm-6">
                                    <vaadin-text-field type="text" value="{{data.ano}}" id="ano" name="ano" label="Ano" disabled="true"> </vaadin-text-field>
                                </div>
                                <div class="col-sm-6">
                                    <vaadin-text-field type="text" value="{{data.referencia}}" id="referencia" name="referencia" label="Referência" disabled="true"> </vaadin-text-field>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="row break_clear">
                        <div class="col-sm-3">
                            <vaadin-checkbox checked="{{data.imobilizado}}" required>Imobilizado?</vaadin-checkbox>
                            <vaadin-checkbox checked="{{data.tratado}}" required>Tratado?</vaadin-checkbox>
                        </div>

                    </div>
                </div>

                <!-- Procedimentos section tabs-->
                <paper-tabs fit-container no-slide autoselect autoselect-delay="0" selected="{{selected}}">
                    <paper-tab>Unidade Produtiva (0)</paper-tab>
                    <paper-tab>Imobilizado (1-2)</paper-tab>
                    <paper-tab>Fundamentos Decisão (4, 5 e 7)</paper-tab>
                    <paper-tab>CCP</paper-tab>
                    <paper-tab>Jurídicos</paper-tab>
                    <paper-tab>Valores Adjudicação</paper-tab>
                    <paper-tab>CA</paper-tab>
                    <paper-tab>Adjudicação</paper-tab>
                    <paper-tab>Workflow</paper-tab>
                    <paper-tab>Notas</paper-tab>
                    <paper-tab>Tempos</paper-tab>
                </paper-tabs>

                <iron-pages selected="{{selected}}">
                    <!-- Tab Unidade Produtiva-->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <paper-collapse-item header="Avaliação Técnica" opened>
                                <!-- Tab Unidade Produtiva - Avaliação Tecnica-->
                                <div class="col-xs-12 mb-15">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <paper-tooltip for="informacaoTecnica" position="top" offset="-1" animation-delay="1">
                                                Descrição da prestação de serviços ou bem a adquirir
                                            </paper-tooltip>
                                            <such-textarea rows="3" value="{{data.informacaoTecnica}}" id="informacaoTecnica" name="informacaoTecnica" label="Informação Técnica"> </such-textarea>
                                        </div>
                                        <div class="col-sm-6">
                                            <such-textarea rows="3" value="{{data.fundamentacaoAquisicao}}" id="fundamentacaoAquisicao" name="fundamentacaoAquisicao" label="Fundamentação Aquisição"> </such-textarea>
                                        </div>
                                    </div>

                                    <div class="row break_clear">
                                        <div class="col-sm-3">
                                            <vaadin-combo-box items="[[LBoolValues]]" item-value-path="booleanValue" item-label-path="stringValue" required value="{{data.precoBase}}" id="precoBase" label="Preço Base?">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.stringValue]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                        <div class="col-sm-6">
                                            <paper-tooltip for="valorPrecoBase" position="top" offset="-1" animation-delay="1">
                                                Segundo este preceito, o preço base do procedimento é o valor máximo que o SUCH está disposto a pagar. É um limite ao valor das propostas que, se o ultrapassarem, terão que ser excluídas. Se Sim, a area deve indicar o valor do preço base (1).
                                            </paper-tooltip>
                                            <vaadin-text-field type="text" value="{{data.valorPrecoBase}}" id="valorPrecoBase" name="valorPrecoBase" label="Valor Preço Base"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-3">
                                            <vaadin-combo-box items="[[LBoolValues]]" item-value-path="booleanValue" item-label-path="stringValue" required value="{{data.negociacao}}" id="negociacao" label="Negociação?">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.stringValue]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                    </div>
                                    <!-- Elementos Juri section.b -->
                                    <h2 class="separator" style="border-bottom:1px dotted; padding:0;">Elementos do Juri a designar pela UP</h2>
                                    <div class="table inlineForm">
                                        <div class="col-sm-3" style="padding-left:0;">
                                            <vaadin-combo-box items="[[LUsers]]" id="users" item-value-path="id" value="{{_userName }}" item-label-path="id" label="Possiveis Elementos">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.value]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                        <div id="formAddElemento">
                                            <div class="col-lg-3 col-sm-4">
                                                <p>Responsabilidades</p>
                                                <vaadin-radio-button-group id="responsabilidades" name="responsabilidades" value="{{responsabilidade}}">
                                                    <vaadin-radio-button id="_chkPresidente" checked="{{chkPresidente}}" value="presidente">Presidente</vaadin-radio-button>
                                                    <vaadin-radio-button id="_chkVogal" checked="{{chkVogal}}" value="vogal">Vogal</vaadin-radio-button>
                                                    <vaadin-radio-button id="_chkSuplente" checked="{{chkSuplente}}" value="suplente">Suplente</vaadin-radio-button>
                                                </vaadin-radio-button-group>
                                            </div>
                                            <div class="col-sm-2">
                                                <p>&nbsp;</p>
                                                <vaadin-checkbox id="_chkSendMail" checked="{{chkSendMail}}">Enviar Email</vaadin-checkbox>
                                            </div>
                                        </div>
                                        <div class="col-lg-3">
                                            <br />
                                            <paper-button class="btnSave" id="buttonCriarElementoJuri" raised on-tap="_createElementoJuri"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp; Criar</paper-button>
                                        </div>
                                    </div>
                                    <vaadin-grid id="gridElementosJuri" aria-label="gridElementosJuri" items="{{data.elementosJuri}}" class="grid" style="height:170px;">
                                        <vaadin-grid-column width="20%">
                                            <template class="header">
                                                Utilizador
                                            </template>
                                            <template>
                                                <vaadin-text-field id="idElemento1" type="text" value="{{ item.utilizador }}"></vaadin-text-field>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="20%">
                                            <template class="header">
                                                Nome
                                            </template>
                                            <template>
                                                <vaadin-text-field id="nomeElementoJuri1" type="text" value="{{ item.nomeEmpregado }}"></vaadin-text-field>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="8%">
                                            <template class="header">
                                                <center>
                                                    Presidente
                                                </center>
                                            </template>
                                            <template>
                                                <center>
                                                    <vaadin-checkbox id="isPresidente1" checked="{{item.presidente}}"></vaadin-checkbox>
                                                </center>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="8%">
                                            <template class="header">
                                                <center>
                                                    Vogal
                                                </center>
                                            </template>
                                            <template>
                                                <center>
                                                    <vaadin-checkbox id="isVogal1" checked="{{item.vogal}}"></vaadin-checkbox>
                                                </center>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="6%">
                                            <template class="header">
                                                <center>
                                                    Suplente
                                                </center>
                                            </template>
                                            <template>
                                                <center>
                                                    <vaadin-checkbox id="isSuplente1" checked="{{item.suplente}}"></vaadin-checkbox>
                                                </center>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="8%">
                                            <template class="header">
                                                <center>
                                                    Enviar Email?
                                                </center>
                                            </template>
                                            <template>
                                                <center>
                                                    <vaadin-checkbox id="doSendMail1" checked="{{item.enviarEmail}}"></vaadin-checkbox>
                                                </center>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="20%">
                                            <template class="header">
                                                Endereço Email
                                            </template>
                                            <template>
                                                <vaadin-text-field id="emailElemento1" type="text" value="{{ item.email }}"></vaadin-text-field>
                                            </template>
                                        </vaadin-grid-column>
                                        <vaadin-grid-column width="10%">
                                            <template class="header">
                                            </template>
                                            <template>
                                                <!--<center>-->
                                                <paper-button raised class="btnRemove" id="deleteJuri1" on-tap="_deleteElementoJuri"><i class="fa fa-trash-o" aria-hidden="true"></i>&nbsp; Eliminar</paper-button>
                                                <!--</center>-->
                                            </template>
                                        </vaadin-grid-column>
                                    </vaadin-grid>
                                    <h2 class="separator" style="border-bottom:1px dotted; padding:0;"></h2>
                                    <!-- Elementos Juri section.e -->
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <vaadin-text-field type="text" value="{{data.prazo}}" id="prazo" name="prazo" label="Prazo para a prestação do serviço (Até 3 anos)"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <!--Elementos Checklist - Estado 0 - .b -->
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{ data.comentarioArea }}" id="comentarioAreaApresentar" name="comentarioAreaApresentar" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">O Responsável da Área pela apresentação da informação</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelArea}}" id="responsavelArea" name="responsavelArea" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelArea}}" id="nomeResponsavelArea" name="nomeResponsavelArea" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.dataResponsavel}}" id="dataResponsavel" name="dataResponsavel" label="Data" disabled="true"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <!--Elementos Checklist - Estado 0 - .e -->
                                    <div class="col-lg-6">
                                        <br />
                                        <paper-button raised id="submitProcedimento" class="btn--confirm pull-left" on-tap="_submitProcedimento"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Submeter</paper-button>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </paper-collapse-item>
                            <paper-collapse-item header="Critérios Adjudicação">
                                <!-- Tab Unidade Produtiva - Critérios de Adjudicação-->
                                <div class="col-xs-12 mb-15">
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <vaadin-combo-box items="[[LBoolValues]]" item-value-path="booleanValue" id="precoMaisBaixo" item-label-path="stringValue" value="{{data.precoMaisBaixo}}" on-value-changed="_nrmudasimnao" label="Preço mais baixo?">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.stringValue]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-8">
                                                    <paper-tooltip for="descPrecoMaisBaixo" position="bottom" offset="-10" animation-delay="1">
                                                        Preço mais baixo
                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descPrecoMaisBaixo}}" id="descPrecoMaisBaixo" name="descPrecoMaisBaixo" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <vaadin-combo-box items="[[LBoolValues]]" item-value-path="booleanValue" id="propostaEconMaisVantajosa" item-label-path="stringValue" value="{{data.propostaEconMaisVantajosa}}" on-value-changed="_nrmudasimnaoinvertida" label="Proposta economicamente mais vantajosa?">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.stringValue]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-8">
                                                    <paper-tooltip for="descPropostaEconMaisVantajosa" position="top" offset="-1" animation-delay="1">
                                                        Definição de subfactores: Preço; Características técnicas (parâmetros a avaliar e outros que sejam relevantes), etc. Todos os fatores e subfactores têm de ser parametrizados e quantificados. <br />
                                                        Qualidade, em sentido lato, não é parâmetro para critério de adjudicação. Caso seja um requisito devem colocar em observações do procedimento para definição no Caderno de Encargos.
                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descPropostaEconMaisVantajosa}}" id="descPropostaEconMaisVantajosa" name="descPropostaEconMaisVantajosa" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </paper-collapse-item>
                            <paper-collapse-item header="Outros">
                                <!-- Tab Unidade Produtiva - Outros-->
                                <div class="col-xs-12 mb-15">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <vaadin-combo-box value="{{data.propostaVariante}}" label="Proposta Variante?" items="[[LBoolValues]]" item-value-path="booleanValue" id="propostaVariante" item-label-path="stringValue">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.stringValue]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-9">
                                                    <paper-tooltip for="descPropostaVariante" position="bottom" offset="-10" animation-delay="1">
                                                        Não aceitando propostas variantes o concorrente tem que apresentar exatamente o solicitado nas peças do procedimento, sendo um motivo de exclusão toda a proposta apresentada que não cumpra os requisitos. <br />
                                                        O Fornecedor não pode apresentar alternativas.
                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descPropostaVariante}}" id="descPropostaVariante" name="descPropostaVariante" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <vaadin-combo-box value="{{data.abertoFechadoAoMercado}}" label="Aberto ou fechado ao mercado" items="[[LAbertoFechado]]" item-value-path="id" id="abertoFechadoAoMercado" item-label-path="value">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.value]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-8">
                                                    <paper-tooltip for="descAbertoFechadoAoMercado" position="bottom" offset="-10" animation-delay="1">
                                                        Aberto ao mercado, todos os concorrentes registados na categoria visualizam o procedimento, contudo, permite em simultâneo um convite direcionado aos fornecedores identificados pelo SUCH a apresentar proposta. <br />
                                                        Fechado ao mercado, apenas os fornecedores convidados a apresentar proposta visualizam o procedimento.

                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descAbertoFechadoAoMercado}}" id="descAbertoFechadoAoMercado" name="descAbertoFechadoAoMercado" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <paper-tooltip for="prazoEntrega" position="top" offset="-1" animation-delay="1">
                                                Caso exista imposição da U.P. para o Cliente.
                                            </paper-tooltip>
                                            <vaadin-text-field value="{{data.prazoEntrega}}" id="prazoEntrega" name="prazoEntrega" label="Prazo Entrega / Realização Serviço"> </vaadin-text-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <vaadin-text-field value="{{data.locaisEntrega}}" id="locaisEntrega" name="locaisEntrega" label="Locais de Entrega"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <vaadin-text-field rows="5" value="{{data.observacoesAdicionais}}" id="observacoesAdicionais" name="observacoesAdicionais" label="Observações adicionais a fixar no caderno de encargos"> </vaadin-text-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <paper-tooltip for="estimativaPreco" position="top" offset="-1" animation-delay="1">
                                                Obrigatório indicar, mesmo quando não se pretenda estabelecer preço base.
                                            </paper-tooltip>
                                            <vaadin-text-field rows="5" value="{{data.estimativaPreco}}" id="estimativaPreco" name="estimativaPreco" label="Estimativa de preço"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <vaadin-text-field rows="5" value="{{data.fornecedoresSugeridos}}" id="fornecedoresSugeridos" name="fornecedoresSugeridos" label="Fornecedores Sugeridos"> </vaadin-text-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <vaadin-combo-box value="{{data.fornecedorExclusivo}}" label="Fornecedor Exclusivo" items="[[LBoolValues]]" item-value-path="booleanValue" id="fornecedorExclusivo" item-label-path="stringValue">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.stringValue]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-8">
                                                    <paper-tooltip for="descFornecedorExclusivo" position="top" offset="-1" animation-delay="1">
                                                        Fundamentação de exclusividade: note-se que este parametro será validado conforme CCP.
                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descFornecedorExclusivo}}" id="descFornecedorExclusivo" name="descFornecedorExclusivo" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <vaadin-text-field value="{{data.interlocutor}}" id="interlocutor" name="interlocutor" label="Interlocutor Preferêncial"> </vaadin-text-field>
                                        </div>
                                    </div>
                                </div>
                            </paper-collapse-item>
                            <paper-collapse-item header="Linhas Produtos / Serviços">
                                <!-- NR 20180223 - Colocar campos para inserir novas linhas -->
                                <div class="panel-body">
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <div class="row">
                                                <div class="col-sm-2">
                                                    <vaadin-combo-box items="[[CBTipo]]" item-value-path="id" item-label-path="value" required id="linhaTipo" label="Tipo">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.value]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-2">
                                                    <vaadin-combo-box items="[[CBLocations]]" id="_CBLocations" item-value-path="id" item-label-path="value" required value="{{_LocalCode}}" label="Cód. Localização" disabled="{{ !_permissions.update }}">
                                                        <template>
                                                            <table width="200px">
                                                                <tr>
                                                                    <td width="40%">[[item.id]]</td>
                                                                    <td width="60%"> <b>[[item.value]]</b></td>
                                                                </tr>
                                                            </table>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-2">
                                                    <such-selectbox id="_CBItems" value="{{_CBItems}}" label="Cód. Produto"
                                                                    items="[[CBItems]]"
                                                                    text-path="code"
                                                                    value-path="code"
                                                                    required
                                                                    fields='[{"field":"code", "name":"Cód. Produto"}, {"field":"name", "name":"Descrição"}, {"field":"measureUnit", "name":"Unidade de Medida"}, {"field":"itemCategoryCode", "name":"Cód. Categoria"}, {"field":"productGroupCode", "name":"Cód. Grupo"}]'
                                                                    disabled="{{ !_permissions.update }}">
                                                    </such-selectbox>
                                                </div>
                                                <div class="col-sm-3">
                                                    <vaadin-text-field type="text" id="_DescricaoProduto" required value="{{ item.descricao }}" label="Descrição"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-3">
                                                    <vaadin-text-field type="text" id="_DescricaoProduto2" value="{{ item.descricao2 }}" label="Descrição 2"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-2">
                                                    <vaadin-combo-box items="[[LCBMeasuresUnit]]" id="_UnitMeasureCode" name="_UnitMeasureCode" item-value-path="id" item-label-path="id" value="{{_UnitMeasureCode}}" label="Código Unid. Medida" disabled="{{ !_permissions.update }}">
                                                        <template>
                                                            <table width="200px">
                                                                <tr>
                                                                    <td width="40%">[[item.id]]</td>
                                                                    <td width="60%"> <b>[[item.value]]</b></td>
                                                                </tr>
                                                            </table>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-2">
                                                    <vaadin-text-field id="_linhaQuantidadeRequerer" label="Qtd. a Requerer" maxlength="18" pattern="[0-9]*" style="text-align:right;"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-2">
                                                    <vaadin-text-field id="_linhaCustoUnitario" label="Custo Unitário" maxlength="18" on-value-changed="_ConvertDecimals" pattern="[0-9]+([\.][0-9]+)?" style="text-align:right;">
                                                        <div slot="suffix">€</div>
                                                    </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-1">
                                                    <br />
                                                    <paper-button class="btnSave" id="btnCriarLinhaProdutosServicos" raised on-tap="_createLinhaProdutosServicos"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp; Criar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tab Unidade Produtiva - Linhas Produtos Servicos-->
                                    <div class="col-xs-12 mb-15">
                                        <div class="break_clear">
                                            <!-- NR 20180226 -->
                                            <vaadin-grid id="tabLinhaProdutos" aria-label="Tabela Linhas Produtos Serviços" items="{{ data.linhasPEncomendaProcedimentosCcp }}" class="editGrid">

                                                <vaadin-grid-column width="50px" hidden>
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="noProcedimento" style="text-align:center;">Nº Procedimento</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="noProcedimento" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field name="tabLinhaProdutosNoProcedimento" id="tabLinhaProdutosNoProcedimento" value="{{item.noProcedimento}}" maxlength="200" disabled="true" style="text-align:right;"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="50px" hidden>
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="noLinha" style="text-align:center;">Nº Linha</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="noLinha" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field name="tabLinhaProdutosNoLinha" id="tabLinhaProdutosNoLinha" value="{{item.noLinha}}" maxlength="200" disabled="true" style="text-align:right;"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="60px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="tipoText" style="text-align:center;">Tipo</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="tipoText" />
                                                    </template>
                                                    <template>
                                                        <vaadin-combo-box id="tabTipo" items="[[CBTipo]]" item-value-path="id" item-label-path="value" value="{{item.tipo}}" disabled="true" style="text-align:left;">
                                                            <template>
                                                                <paper-icon-item>
                                                                    <paper-item-body two-line>
                                                                        <div>[[item.value]]</div>
                                                                    </paper-item-body>
                                                                </paper-icon-item>
                                                            </template>
                                                        </vaadin-combo-box>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="200px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="codLocalizacaoText" style="text-align:center;">Cód. Localização</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="codLocalizacaoText" />
                                                    </template>
                                                    <template>
                                                        <vaadin-combo-box id="tabCodigoLocalizacao" items="[[CBLocations]]" item-value-path="id" item-label-path="value" value="{{item.codLocalizacao}}" disabled="true" style="text-align:left;">
                                                            <template>
                                                                <paper-icon-item>
                                                                    <paper-item-body two-line>
                                                                        <div>[[item.value]]</div>
                                                                    </paper-item-body>
                                                                </paper-icon-item>
                                                            </template>
                                                        </vaadin-combo-box>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="60px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="codigo" style="text-align:center;">Cód. Produto</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="codigo" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field name="tabCodProduto" id="tabCodProduto" value="{{item.codigo}}" disabled="true" style="text-align:left;"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>

                                                <vaadin-grid-column width="200px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="descricao" style="text-align:center;">Descrição</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="descricao" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field name="tabDescricaoProduto" id="tabDescricaoProduto" value="{{item.descricao}}" disabled="true" style="text-align:left;"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="80px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="quantARequerer" style="text-align:center;">Qtd. a Requerer</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="quantARequerer" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field name="tabQuantidade" value="{{item.quantARequerer}}" disabled="true" maxlength="18" pattern="[0-9]*" style="text-align:right;"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="80px">
                                                    <template class="header">
                                                        <vaadin-grid-sorter path="custoUnitario" style="text-align:center;">Custo Unitário</vaadin-grid-sorter>
                                                        <vaadin-grid-filter path="custoUnitario" />
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field id="GridtabAjudaCustoUnitario" name="tabAjudaCustoUnitario" value="{{item.custoUnitario}}" disabled="true" style="text-align:right;">
                                                            <div slot="suffix">€</div>
                                                        </vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="80px">
                                                    <template class="header">
                                                    </template>
                                                    <template>
                                                        <paper-button class="btnRemove" id="btnDeleteLinhaProdutoServico" raised on-tap="_deleteLinha" disabled="{{ !_permissions.delete }}">Eliminar</paper-button>
                                                    </template>
                                                </vaadin-grid-column>
                                            </vaadin-grid>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab Imobilizado -->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <h2 class="title title--bgyellow">Aquisição de Imobilizado</h2>
                            <p></p>
                            <h2 class="title title--bgblue">A preencher pelos Serviços de Contabilidade - Avaliação Cabimentação Orçamental</h2>

                            <paper-collapse-item header="Contabilidade (1)" opened>
                                <div class="col-xs-12">
                                    <div class="col-xs-12">
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <such-textarea rows="5" value="{{data.comentarioImobContabilidade}}" id="comentarioImobContabilidade" name="comentarioImobContabilidade" label="Comentário"> </such-textarea>
                                            </div>
                                        </div>
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <label part="label" class="grey" id="vaadin-text-field-label-30">O responsável dos serviços de contabilidade</label>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <vaadin-text-field value="{{data.responsavelImobContabilidade}}" id="responsavelImobContabilidade" name="responsavelImobContabilidade" label="" disabled="true"></vaadin-text-field>
                                                    </div>

                                                    <div class="col-sm-8">
                                                        <vaadin-text-field value="{{data.nomeResponsavelImobContabilidade}}" id="nomeResponsavelImobContabilidade" name="nomeResponsavelImobContabilidade" label="" disabled="true"> </vaadin-text-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <vaadin-text-field value="{{data.dataImobContabilidade}}" id="dataImobContabilidade" name="dataImobContabilidade" label="Data" disabled="true"> </vaadin-text-field>
                                            </div>
                                            <div class="col-sm-3">
                                                <vaadin-combo-box value="{{data.imobilizadoSimNao}}" id="ImobilizadoSimNao" label="Cabimento Orçamental?" items="[[LBoolValues]]" item-value-path="booleanValue" item-label-path="stringValue">
                                                    <template>
                                                        <paper-icon-item>
                                                            <paper-item-body two-line>
                                                                <div>[[item.stringValue]]</div>
                                                            </paper-item-body>
                                                        </paper-icon-item>
                                                    </template>
                                                </vaadin-combo-box>
                                            </div>
                                        </div>

                                        <div class="clearfix"></div>
                                        <div class="clearfix"></div>
                                        <div class="col-lg-6">
                                            <!--Context menu-->
                                            <br />
                                            <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                                <template>
                                                    <style>
                                                        .my-menu {
                                                            padding: 8px 0;
                                                            background: #fff;
                                                        }

                                                        .my-menu-item {
                                                            display: block;
                                                            padding: 8px 24px;
                                                            text-decoration: none;
                                                            color: #000;
                                                        }

                                                            .my-menu-item:hover {
                                                                background: #FFD5D3;
                                                            }
                                                    </style>
                                                    <vaadin-list-box>
                                                        <vaadin-item class="my-menu-item" on-tap="_confirmImobilizadoContab">Confirmar</vaadin-item>
                                                        <vaadin-item class="my-menu-item" on-tap="_imobReturnToArea">Devolver à Área</vaadin-item>
                                                    </vaadin-list-box>
                                                </template>

                                                <paper-button raised id="actionButtonContabilidade1" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                                <!--<button>Show Context Menu</button>-->
                                            </vaadin-context-menu>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="Área (2)">
                                <div class="col-xs-12">
                                    <div class="col-xs-12">
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <such-textarea rows="5" value="{{data.comentarioImobArea}}" id="comentarioImobArea" name="comentarioImobArea" label="Comentário"> </such-textarea>
                                            </div>
                                        </div>
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <label part="label" class="grey" id="vaadin-text-field-label-30">O responsável da área pela adjudicação</label>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <vaadin-text-field value="{{data.responsavelImobArea}}" id="responsavelImobArea" name="responsavelImobArea" label="" disabled="true"> </vaadin-text-field>
                                                    </div>

                                                    <div class="col-sm-8">
                                                        <vaadin-text-field value="{{data.nomeResponsavelImobArea}}" id="nomeResponsavelImobArea" name="nomeResponsavelImobArea" label="" disabled="true"> </vaadin-text-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <vaadin-text-field value="{{data.DataImobArea}}" id="DataImobArea" name="DataImobArea" label="Data" disabled="true"> </vaadin-text-field>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-lg-6">
                                            <!--Context menu-->
                                            <br />
                                            <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                                <template>
                                                    <style>
                                                        .my-menu {
                                                            padding: 8px 0;
                                                            background: #fff;
                                                        }

                                                        .my-menu-item {
                                                            display: block;
                                                            padding: 8px 24px;
                                                            text-decoration: none;
                                                            color: #000;
                                                        }

                                                            .my-menu-item:hover {
                                                                background: #FFD5D3;
                                                            }
                                                    </style>
                                                    <vaadin-list-box>
                                                        <vaadin-item class="my-menu-item" on-tap="_pedirAutorizacao">Pedir Autorização</vaadin-item>
                                                        <vaadin-item class="my-menu-item" on-tap="_devolverContabilidade">Devolver Contabilidade</vaadin-item>
                                                        <vaadin-item class="my-menu-item" on-tap="_fecharProcesso">Fechar Processo -> (19)</vaadin-item>
                                                    </vaadin-list-box>
                                                </template>

                                                <paper-button raised id="actionButtonArea2" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                                <!--<button>Show Context Menu</button>-->
                                            </vaadin-context-menu>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab Fundamentos Decisão-->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <paper-collapse-item header="A Preencher pelas Compras (4)" opened>
                                <div class="col-xs-12">
                                    <div class="break_clear row">
                                        <div class="col-sm-12">
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <vaadin-text-field value="{{data.criterioEscolhaProcedimento}}" id="criterioEscolhaProcedimento" name="criterioEscolhaProcedimento" label="Escolha do Procedimento"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-9">
                                                    <paper-tooltip for="descEscolhaProcedimento" position="bottom" offset="-10" animation-delay="1">
                                                        Em função do valor de acordo com os critérios formais, de acordo com o CCP.
                                                    </paper-tooltip>
                                                    <such-textarea rows="5" value="{{data.descEscolhaProcedimento}}" id="descEscolhaProcedimento" name="descEscolhaProcedimento" label="Descrição"> </such-textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="break_clear row">
                                        <div class="col-sm-3 mb-15">
                                            <vaadin-combo-box value="{{data.juri}}" label="Juri" items="[[LBoolValues]]" item-value-path="booleanValue" id="juri" item-label-path="stringValue">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.stringValue]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                        <div class="col-xs-12">
                                            <vaadin-grid id="gridElementosJuri" aria-label="gridElementosJuri" items="{{data.elementosJuri}}" class="grid" style="height:170px;">
                                                <vaadin-grid-column width="20%">
                                                    <template class="header">
                                                        Utilizador
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field type="text" value="{{ item.utilizador }}"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="20%">
                                                    <template class="header">
                                                        Nome
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field type="text" value="{{ item.nomeEmpregado }}"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="8%">
                                                    <template class="header">
                                                        <center>
                                                            Presidente
                                                        </center>
                                                    </template>
                                                    <template>
                                                        <center>
                                                            <vaadin-checkbox checked="{{item.presidente}}"></vaadin-checkbox>
                                                        </center>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="8%">
                                                    <template class="header">
                                                        <center>
                                                            Vogal
                                                        </center>
                                                    </template>
                                                    <template>
                                                        <center>
                                                            <vaadin-checkbox checked="{{item.vogal}}"></vaadin-checkbox>
                                                        </center>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="6%">
                                                    <template class="header">
                                                        <center>
                                                            Suplente
                                                        </center>
                                                    </template>
                                                    <template>
                                                        <center>
                                                            <vaadin-checkbox checked="{{item.suplente}}"></vaadin-checkbox>
                                                        </center>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="8%">
                                                    <template class="header">
                                                        <center>
                                                            Enviar Email?
                                                        </center>
                                                    </template>
                                                    <template>
                                                        <center>
                                                            <vaadin-checkbox checked="{{item.enviarEmail}}"></vaadin-checkbox>
                                                        </center>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="20%">
                                                    <template class="header">
                                                        Endereço Email
                                                    </template>
                                                    <template>
                                                        <vaadin-text-field type="text" value="{{ item.email }}"></vaadin-text-field>
                                                    </template>
                                                </vaadin-grid-column>
                                                <vaadin-grid-column width="10%">
                                                    <template class="header">
                                                    </template>
                                                    <template>
                                                        <!--<center>-->
                                                        <paper-button raised class="btnRemove" on-tap="_deleteElementoJuri"><i class="fa fa-trash-o" aria-hidden="true"></i>&nbsp; Eliminar</paper-button>
                                                        <!--</center>-->
                                                    </template>
                                                </vaadin-grid-column>
                                            </vaadin-grid>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <vaadin-text-field value="{{data.nomeProcesso}}" id="nomeProcesso" name="nomeProcesso" label="Nome do Processo"> </vaadin-text-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-combo-box value="{{data.objetoDoContrato}}" label="Objecto do Contrato" items="[[CBObjectoContrato]]" item-value-path="id" id="objetoDoContrato" item-label-path="value">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.value]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.condicoesDePagamento}}" id="condicoesDePagamento" name="condicoesDePagamento" label="Condições Pagamento"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-3">
                                            <vaadin-combo-box value="{{data.gestorProcesso}}" label="Gestor Processo" items="[[CBGestorProcesso]]" item-value-path="id" id="gestorProcesso" item-label-path="value">
                                                <template>
                                                    <paper-icon-item>
                                                        <paper-item-body two-line>
                                                            <div>[[item.value]]</div>
                                                        </paper-item-body>
                                                    </paper-icon-item>
                                                </template>
                                            </vaadin-combo-box>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioFundamentoCompras}}" id="comentarioFundamentoCompras" name="comentarioFundamentoCompras" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey vaadin-text-field-label-30" id="lblresponsavelFundamentoCompras">O Responsável pelo envio para área</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelFundamentoCompras}}" id="responsavelFundamentoCompras" name="responsavelFundamentoCompras" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelFundamentoCompras}}" id="nomeResponsavelFundamentoCompras" name="nomeResponsavelFundamentoCompras" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <!--<vaadin-date-picker value="{{data.fundamentoComprasDataChecklist}}" id="fundamentoComprasDataChecklist" name="fundamentoComprasDataChecklist" label="Data"></vaadin-date-picker>-->
                                            <vaadin-text-field value="{{data.fundamentoComprasDataChecklist}}" id="fundamentoComprasDataChecklist" name="fundamentoComprasDataChecklist" label="Data" disabled="true"> </vaadin-text-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.emailDestinoCa}}" id="emailDestinoCa" name="emailDestinoCa" label="Email destino CA"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <br />
                                        <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                            <template>
                                                <style>
                                                    .my-menu {
                                                        padding: 8px 0;
                                                        background: #fff;
                                                    }

                                                    .my-menu-item {
                                                        display: block;
                                                        padding: 8px 24px;
                                                        text-decoration: none;
                                                        color: #000;
                                                    }

                                                        .my-menu-item:hover {
                                                            background: #FFD5D3;
                                                        }
                                                </style>
                                                <vaadin-list-box>
                                                    <vaadin-item class="my-menu-item" on-tap="_enviarParaFinanceiros">Enviar p/ Financeiros (5)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_enviarParaJuridicos">Enviar p/ Juridicos (6)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_enviarParaArea">Enviar p/ Área (7)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_devolverParaArea">Devolver à Área (2)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_enviarParaCAAbertura">Enviar p/CA Abertura (8)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_enviarParaCAAdjudicacao">Enviar p/CA Adjudicação (17)</vaadin-item>
                                                </vaadin-list-box>
                                            </template>
                                            <paper-button raised id="actionButtonCompras" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                        </vaadin-context-menu>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="A Preencher pelos Serviços Financeiros (5)">
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioFundamentoFinanceiros}}" id="comentarioFundamentoFinanceiros" name="comentarioFundamentoFinanceiros" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">O Responsável dos serviços financeiros</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelFundamentoFinanceiros}}" id="responsavelFundamentoFinanceiros" name="responsavelFundamentoFinanceiros" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelFundamentoFinanceiros}}" id="nomeResponsavelFundamentoFinanceiros" name="nomeResponsavelFundamentoFinanceiros" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.fundamentoFinDataChecklist}}" id="fundamentoFinDataChecklist" name="fundamentoFinDataChecklist" label="Data" disabled="true"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <br />
                                        <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                            <template>
                                                <style>
                                                    .my-menu {
                                                        padding: 8px 0;
                                                        background: #fff;
                                                    }

                                                    .my-menu-item {
                                                        display: block;
                                                        padding: 8px 24px;
                                                        text-decoration: none;
                                                        color: #000;
                                                    }

                                                        .my-menu-item:hover {
                                                            background: #FFD5D3;
                                                        }
                                                </style>
                                                <vaadin-list-box>
                                                    <!--<vaadin-item class="my-menu-item" on-tap="_enviarParaArea_5">Enviar p/ Área (7)</vaadin-item>-->
                                                    <vaadin-item class="my-menu-item" on-tap="_devolverACompras_5">Devolver a Compras (4)</vaadin-item>
                                                </vaadin-list-box>
                                            </template>
                                            <paper-button raised id="actionButtonFinanceiros" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                        </vaadin-context-menu>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>

                            <paper-collapse-item header="A Preencher pela área - Pedido de Abertura de Procedimento (7)">
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.fundamentacaoAreaComentario}}" id="fundamentacaoAreaComentario" name="fundamentacaoAreaComentario" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">O Responsável da área pelo envio para CA</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelServicosFinanceiros}}" id="responsavelServicosFinanceiros" name="responsavelServicosFinanceiros" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.responsavelServicosFinanceiros2}}" id="responsavelServicosFinanceiros2" name="responsavelServicosFinanceiros2" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-date-picker value="{{data.responsavelServicosFinanceirosData}}" id="processoData" name="processoData" label="Data" disabled="true"></vaadin-date-picker>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <br />
                                        <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                            <template>
                                                <style>
                                                    .my-menu {
                                                        padding: 8px 0;
                                                        background: #fff;
                                                    }

                                                    .my-menu-item {
                                                        display: block;
                                                        padding: 8px 24px;
                                                        text-decoration: none;
                                                        color: #000;
                                                    }

                                                        .my-menu-item:hover {
                                                            background: #FFD5D3;
                                                        }
                                                </style>
                                                <vaadin-list-box>
                                                    <vaadin-item class="my-menu-item" on-tap="_submeterParaAutorizacao">Submeter para Autorização</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_devolverACompras">Devolver a Compras (4)</vaadin-item>
                                                    <vaadin-item class="my-menu-item" on-tap="_fecharProcesso">Fechar Processo -> (19)</vaadin-item>
                                                </vaadin-list-box>
                                            </template>
                                            <paper-button raised id="actionButtonPedidoAberturaProc" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                        </vaadin-context-menu>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab CCP -->
                    <div>
                        <div class="row break_clear">
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Publicação na Plataforma (9)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.comentarioPublicacao}}" id="comentarioPublicacao" name="comentarioPublicacao" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataPublicacao}}" id="dataPublicacao" name="dataPublicacao" label="Data"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorPublicacao}}" id="utilizadorPublicacao" name="utilizadorPublicacao" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <paper-button raised id="btnConfirmPublicacaoNaPlataforma" class="btn--confirm pull-right" on-tap="_confirmPublicacaoNaPlataforma"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Recolha da Plataforma (10)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.recolhaComentario}}" id="recolhaComentario" name="recolhaComentario" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataRecolha}}" id="dataRecolha" name="dataRecolha" label="Data"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">

                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorRecolha}}" id="utilizadorRecolha" name="utilizadorRecolha" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <paper-button raised id="btnConfirmRecolhaPlataforma" class="btn--confirm pull-right" on-tap="_confirmRecolhaPlataforma"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Validação Relatório Preliminar Pelo Juri (11)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.comentarioRelatorioPreliminar}}" id="comentarioRelatorioPreliminar" name="comentarioRelatorioPreliminar" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataValidRelatorioPreliminar}}" id="dataValidRelatorioPreliminar" name="dataValidRelatorioPreliminar" label="Data"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorValidRelatorioPreliminar}}" id="utilizadorValidRelatorioPreliminar" name="utilizadorValidRelatorioPreliminar" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <paper-button raised id="btnConfirmValidacaoRelatorio" class="btn--confirm pull-right" on-tap="_confirmValidacaoRelatorio"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Audiência Prévia (12)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.comentarioAudienciaPrevia}}" id="comentarioAudienciaPrevia" name="comentarioAudienciaPrevia" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataAudienciaPrevia}}" id="dataAudienciaPrevia" name="dataAudienciaPrevia" label="Data"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorAudienciaPrevia}}" id="utilizadorAudienciaPrevia" name="utilizadorAudienciaPrevia" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <paper-button raised id="btnConfirmAudienciaPrevia" class="btn--confirm pull-right" on-tap="_confirmAudienciaPrevia"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Relatório Final (13)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.comentarioRelatorioFinal}}" id="comentarioRelatorioFinal" name="comentarioRelatorioFinal" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataRelatorioFinal}}" id="dataRelatorioFinal" name="dataRelatorioFinal" label="Data"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorRelatorioFinal}}" id="utilizadorRelatorioFinal" name="utilizadorRelatorioFinal" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <!--<paper-button raised id="btnConfirmRelatorioFinal" class="btn--confirm pull-right" on-tap="_confirmRelatorioFinal"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>-->

                                                    <vaadin-context-menu selector="paper-button" open-on="click" close-on="click">
                                                        <template>
                                                            <style>
                                                                .my-menu {
                                                                    padding: 8px 0;
                                                                    background: #fff;
                                                                }

                                                                .my-menu-item {
                                                                    display: block;
                                                                    padding: 8px 24px;
                                                                    text-decoration: none;
                                                                    color: #000;
                                                                }

                                                                    .my-menu-item:hover {
                                                                        background: #FFD5D3;
                                                                    }
                                                            </style>
                                                            <vaadin-list-box>
                                                                <vaadin-item class="my-menu-item" on-tap="_enviarParaJuridicos">Enviar p/ Juridicos (14)</vaadin-item>
                                                                <vaadin-item class="my-menu-item" on-tap="_enviarParaCompras">Enviar p/ Compras (15)</vaadin-item>
                                                            </vaadin-list-box>
                                                        </template>
                                                        <paper-button raised id="btnConfirmRelatorioFinal" class="btn--cntxt-menu pull-left"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Acções&nbsp;&nbsp;</paper-button>
                                                    </vaadin-context-menu>


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <br />
                                &nbsp;
                                <paper-button raised id="btnSendToEvaluate" class="btn--sendtoevaluate" on-tap="_sendToEvaluate"><i class="fa fa-paper-plane" aria-hidden="true"></i>&nbsp; Envio para avaliação (Juri)</paper-button>
                            </div>
                        </div>
                    </div>

                    <!-- Juridicos -->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <h2 class="title title--bgblue">A Preencher pelo Gabinete Juridico</h2>
                            <paper-collapse-item header="1ª Fase - Avaliação das Peças do Procedimento (A preencher na abertura do procedimento) (6)" opened>
                                <div class="col-xs-12">
                                    <div class="col-xs-12">
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <such-textarea rows="5" value="{{data.comentarioJuridico6}}" id="comentarioJuridico6" name="comentarioJuridico6" label="Comentário"> </such-textarea>
                                            </div>
                                        </div>
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <label part="label" class="grey" id="vaadin-text-field-label-30">Pelo Gabinete Jurídico</label>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <vaadin-text-field value="{{data.responsavelJuridico6}}" id="responsavelJuridico6" name="responsavelJuridico6" disabled="true"></vaadin-text-field>
                                                    </div>

                                                    <div class="col-sm-8">
                                                        <vaadin-text-field value="{{data.nomeResponsavelJuridico6}}" id="nomeResponsavelJuridico6" name="nomeResponsavelJuridico6" disabled="true"> </vaadin-text-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <vaadin-text-field value="{{data.dataJuridico6}}" id="dataJuridico6" name="dataJuridico6" label="Data" disabled="true"> </vaadin-text-field>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="2ª Fase - Avaliação da minuta do Contrato (A preencher Após adjudicação) (14)">
                                <div class="col-xs-12">
                                    <div class="col-xs-12">
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <such-textarea rows="5" value="{{data.comentarioJuridico14}}" id="comentarioJuridico14" name="comentarioJuridico14" label="Comentário"> </such-textarea>
                                            </div>
                                        </div>
                                        <div class="row break_clear">
                                            <div class="col-sm-6">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <label part="label" class="grey" id="vaadin-text-field-label-30">Pelo Gabinete Jurídico</label>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <vaadin-text-field value="{{data.responsavelJuridico14}}" id="responsavelJuridico14" name="responsavelJuridico14" disabled="true"></vaadin-text-field>
                                                    </div>

                                                    <div class="col-sm-8">
                                                        <vaadin-text-field value="{{data.nomeResponsavelJuridico14}}" id="nomeResponsavelJuridico14" name="nomeResponsavelJuridico14" disabled="true"> </vaadin-text-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <vaadin-text-field value="{{data.dataJuridico14}}" id="dataJuridico14" name="dataJuridico14" label="Data" disabled="true"> </vaadin-text-field>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab Valores Adjudicação-->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <paper-collapse-item header="A Preencher pelas Compras (15)" opened>
                                <div class="col-xs-12">
                                    <div class="break_clear row">
                                        <div class="col-sm-12">
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <paper-tooltip for="valorMercado" position="bottom" offset="-10" animation-delay="1">
                                                        Só é preenchido se não existir procedimento anterior idêntico.
                                                    </paper-tooltip>
                                                    <vaadin-text-field value="{{data.valorDecisaoContratar}}" type="number" id="valorDecisaoContratar" name="valorDecisaoContratar" label="Valor de Mercado"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-3">
                                                    <paper-tooltip for="valorAdjudicacaoAnterior" position="bottom" offset="-10" animation-delay="1">
                                                        Procedimento anterior idêntico.
                                                    </paper-tooltip>
                                                    <vaadin-text-field value="{{data.valorAdjudicacaoAnteriro}}" type="number" id="valorAdjudicacaoAnteriro" name="valorAdjudicacaoAnteriro" label="Valor da adjudicação anterior"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-3">
                                                    <vaadin-text-field value="{{data.valorAdjudicacaoAtual}}" type="number" id="valorAdjudicacaoAtual" name="valorAdjudicacaoAtual" label="Valor da Adjudicação"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-3">
                                                    <vaadin-text-field value="{{data.diferencaEuros}}" type="number" id="diferencaEuros" name="diferencaEuros" label="Diferença (€)"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-3">
                                                    <vaadin-text-field value="{{data.diferencaPercent}}" type="number" id="diferencaPercent" name="diferencaPercent" label="Diferença (%)"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <such-textarea rows="5" value="{{data.comentarioAdjudicacao15}}" id="comentarioAdjudicacao15" name="comentarioAdjudicacao15" label="Comentário"> </such-textarea>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <label part="label" class="grey" id="vaadin-text-field-label-30">O Responsável pela área</label>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <vaadin-text-field value="{{data.responsavelAdjudicacao15}}" id="responsavelAdjudicacao15" name="responsavelAdjudicacao15" disabled="true"></vaadin-text-field>
                                                        </div>

                                                        <div class="col-sm-8">
                                                            <vaadin-text-field value="{{data.nomeResponsavelAdjudicacao15}}" id="nomeResponsavelAdjudicacao15" name="nomeResponsavelAdjudicacao15" disabled="true"> </vaadin-text-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <vaadin-text-field value="{{data.dataAdjudicacao15}}" id="dataAdjudicacao15" name="dataAdjudicacao15" label="Data" disabled="true"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-3">
                                                    <br />
                                                    <paper-button raised id="btnEnviarParaArea" class="btn--confirm pull-right" on-tap="_enviarParaArea_15"><i class="fa fa-paper-plane" aria-hidden="true"></i>&nbsp; Enviar para Área</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="A Preencher pela Área - Pedido de Adjudicação (16)">
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioAdjudicacao16}}" id="comentarioAdjudicacao16" name="comentarioAdjudicacao16" label="Proposta de decisão"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-3">
                                            <vaadin-checkbox checked="{{data.autorizacaoAdjudicacao}}" disabled="true">Autorizacao Adjudicação</vaadin-checkbox>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-checkbox checked="{{data.naoAdjudicacaoEncerramento}}" disabled="true">Não Adjudicação e Encerramento</vaadin-checkbox>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-checkbox checked="{{data.naoAdjudicacaoSuspensao}}" disabled="true">Não Adjudicação e Suspensão</vaadin-checkbox>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">O Responsável pela área pelo envio para CA</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelAdjudicacao16}}" id="responsavelAdjudicacao16" name="responsavelAdjudicacao16" disabled="true"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelAdjudicacao16}}" id="nomeResponsavelAdjudicacao16" name="nomeResponsavelAdjudicacao16" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.dataAdjudicacao16}}" id="dataAdjudicacao16" name="dataAdjudicacao16" label="Data" disabled="true"> </vaadin-text-field>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab CA-->
                    <div class="panel panel-default">
                        <paper-collapse-group>
                            <paper-collapse-item header="Autorizar Imobilizado (3)" opened>
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioImobCA}}" id="comentarioImobCA" name="comentarioImobCA" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">Pelo CA</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelImobCA}}" id="responsavelImobCA" name="responsavelImobCA" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelImobCA}}" id="nomeResponsavelImobCA" name="nomeResponsavelImobCA" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-text-field value="{{data.dataImobAprovisionamentoCA}}" id="dataImobAprovisionamentoCA" name="dataImobAprovisionamentoCA" label="Data" disabled="true"> </vaadin-text-field>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <paper-button raised id="btnAutorizarImobilizadoConfirm" class="btn--confirm" on-tap="_confirmAutorizarImobilizado"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Autorizar</paper-button>
                                            <paper-button raised id="btnAutorizarImobilizadoSuspend" class="btn--sendtoevaluate" on-tap="_suspendAutorizarImobilizado">Suspender Processo</paper-button>
                                            <paper-button raised id="btnAutorizarImobilizadoReject" class="btn--remove" on-tap="_rejectAutorizarImobilizado"><i class="fa fa-times" aria-hidden="true"></i>&nbsp; Não Autorizar</paper-button>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="1º Fase - Autorização de abertura do Procedimento (8)">
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioCA8}}" id="comentarioCA8" name="comentarioCA8" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">Pelo CA</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelCA8}}" id="responsavelCA8" name="responsavelCA8" disabled="true"></vaadin-text-field>
                                                </div>
                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelCA8}}" id="nomeResponsavelCA8" name="nomeResponsavelCA8" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-date-picker value="{{data.dataAberturaCA8}}" id="dataAberturaCA8" name="dataAberturaCA8" label="Data" disabled="true"></vaadin-date-picker>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-date-picker value="{{data.caDataRatificacaoAbert}}" id="caDataRatificacaoAbert" name="caDataRatificacaoAbert" label="Data Ratificação" disabled="true"></vaadin-date-picker>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <vaadin-checkbox checked="{{data.ratificarCaAbertura}}" id="ratificarCaAbertura">Ratificar CA</vaadin-checkbox>
                                            <vaadin-checkbox checked="{{data.criticoAbertura}}" id="criticoAbertura">Critico</vaadin-checkbox>

                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <paper-button raised id="btnAberturaProcedimentoConfirm" class="btn--confirm" on-tap="_confirmAberturaProcedimento"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Autorizar</paper-button>
                                            <paper-button raised id="btnAberturaProcedimentoSuspend" class="btn--sendtoevaluate" on-tap="_suspendAberturaProcedimento">Suspender Processo</paper-button>
                                            <paper-button raised id="btnAberturaProcedimentoReject" class="btn--remove" on-tap="_rejectAberturaProcedimento"><i class="fa fa-times" aria-hidden="true"></i>&nbsp; Não Autorizar</paper-button>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                            <paper-collapse-item header="2ª Fase - Autorização de Adjudicação (17)">
                                <div class="col-xs-12">
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <such-textarea rows="5" value="{{data.comentarioCA17}}" id="comentarioCA17" name="comentarioCA17" label="Comentário"> </such-textarea>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <vaadin-checkbox checked="{{data.autorizacaoAdjudicacao}}" disabled="true">Autorização Adjudicação.</vaadin-checkbox>
                                            <vaadin-checkbox checked="{{data.naoAdjudicacaoEncerramento}}" disabled="true">Não Adjudicação e Encerramento.</vaadin-checkbox>
                                            <vaadin-checkbox checked="{{data.naoAdjudicacaoSuspensao}}" disabled="true">Não Adjudicação e Suspensão.</vaadin-checkbox>

                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <label part="label" class="grey" id="vaadin-text-field-label-30">Pelo CA</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <vaadin-text-field value="{{data.responsavelCA17}}" id="responsavelCA17" name="responsavelCA17" disabled="true"></vaadin-text-field>
                                                </div>

                                                <div class="col-sm-8">
                                                    <vaadin-text-field value="{{data.nomeResponsavelCA17}}" id="nomeResponsavelCA17" name="nomeResponsavelCA17" disabled="true"> </vaadin-text-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-date-picker value="{{data.dataAberturaCA17}}" id="dataAberturaCA17" name="dataAberturaCA17" label="Data" disabled="true"></vaadin-date-picker>
                                        </div>
                                        <div class="col-sm-3">
                                            <vaadin-date-picker value="{{data.caDataRatificacaoAdjudic}}" id="caDataRatificacaoAdjudic" name="caDataRatificacaoAdjudic" label="Data Ratificação" disabled="true"></vaadin-date-picker>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <vaadin-checkbox checked="{{data.ratificarCaAdjudicacao}}" id="ratificarCaAdjudicacao">Ratificar CA</vaadin-checkbox>
                                            <vaadin-checkbox checked="{{data.criticoAdjudicacao}}" id="criticoAdjudicacao">Critico</vaadin-checkbox>
                                        </div>
                                    </div>
                                    <div class="row break_clear">
                                        <div class="col-sm-12">
                                            <paper-button raised id="btnAutorizacaoAdjudicacaoConfirm" class="btn--confirm" on-tap="_confirmAutorizacaoAdjudicacao"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Autorizar</paper-button>
                                            <paper-button raised id="btnAutorizacaoAdjudicacaoSuspend" class="btn--sendtoevaluate" on-tap="_suspendAutorizacaoAdjudicacao">Suspender Processo</paper-button>
                                            <paper-button raised id="btnAutorizacaoAdjudicacaoReject" class="btn--remove" on-tap="_rejectAutorizacaoAdjudicacao"><i class="fa fa-times" aria-hidden="true"></i>&nbsp; Não Autorizar</paper-button>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="mb-15"></div>
                            </paper-collapse-item>
                        </paper-collapse-group>
                    </div>

                    <!-- Tab Adjudicação -->
                    <div>
                        <div class="row break_clear">
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Notificação Adjudicação (18)</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field value="{{data.comentarioNotificacao}}" id="comentarioNotificacao" name="comentarioNotificacao" label="Comentário"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.dataNotificacao}}" id="dataNotificacao" name="dataNotificacao" label="Data"> </vaadin-date-picker>
                                                </div>
                                                <div class="col-sm-6">
                                                    <vaadin-text-field value="{{data.prazoNotificacaoDias}}" id="prazoNotificacaoDias" name="prazoNotificacaoDias" label="Prazo Concedido"> </vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field value="{{data.utilizadorNotificacao}}" id="utilizadorNotificacao" name="utilizadorNotificacao" label="Utilizador"> </vaadin-text-field>
                                                </div>
                                                <div class="col-sm-6">
                                                    <br />
                                                    <paper-button raised id="btnConfirmAdjudicacaoNotificacao" class="btn--confirm pull-right" on-tap="_confirmAdjudicacaoNotificacao"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Confirmar</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Acordos c/ fornecedores</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field type="number" value="{{data.adjudicacaoAcordosNo}}" id="adjudicacaoAcordosNo" name="adjudicacaoAcordosNo" label="Nº Contratos/Acordos"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-combo-box value="{{data.fornecedor}}" label="Fornecedor" items="[[cboSupplier]]" item-value-path="id" id="adjudicacaoAcordosFornecedor" item-label-path="value">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.value]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-12">
                                                    <br />
                                                    <paper-button raised id="btnNovoAcordoAdjudicacaoAcordos" class="btn--confirm pull-right" on-tap="_novoAcordoAdjudicacaoAcordos">Criar Novo Contrato/Acordo</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Contratos Fornecedores</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <vaadin-text-field type="number" value="{{data.adjudicacaoContratosNo}}" id="adjudicacaoContratosNo" name="adjudicacaoContratosNo" label="Nº Contratos"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-combo-box value="{{data.adjudicacaoContratosFornecedor}}" label="Fornecedor" items="[[cboSupplier]]" item-value-path="id" id="adjudicacaoContratosFornecedor" item-label-path="value">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.value]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-6">
                                                    <vaadin-text-field type="number" value="{{data.adjudicacaoContratosValor}}" id="adjudicacaoContratosValor" name="adjudicacaoContratosValor" label="Valor Contrato"> </vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">

                                                <div class="col-sm-12">
                                                    <br />
                                                    <paper-button raised id="btnNovoContratoAdjudicacaoAcordos" class="btn--confirm pull-right" on-tap="_novoContratoAdjudicacaoAcordos">Criar Contrato</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Encomendas a Fornecedores</div>
                                    <div class="panel-body">
                                        <div class="">
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <vaadin-text-field type="number" value="{{data.adjudicacaoEncomendasNo}}" id="adjudicacaoEncomendasNo" name="adjudicacaoEncomendasNo" label="Nº Encomendas"></vaadin-text-field>
                                                </div>
                                                <div class="col-xs-6">
                                                    <vaadin-text-field type="number" value="{{data.adjudicacaoEncomendasNo2}}" id="adjudicacaoEncomendasNo2" name="adjudicacaoEncomendasNo2" label="&nbsp;"></vaadin-text-field>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-6">
                                                    <vaadin-combo-box value="{{data.adjudicacaoEncomendasFornecedor}}" label="Fornecedor" items="[[cboSupplier]]" item-value-path="id" id="adjudicacaoEncomendasFornecedor" item-label-path="value">
                                                        <template>
                                                            <paper-icon-item>
                                                                <paper-item-body two-line>
                                                                    <div>[[item.value]]</div>
                                                                </paper-item-body>
                                                            </paper-icon-item>
                                                        </template>
                                                    </vaadin-combo-box>
                                                </div>
                                                <div class="col-sm-6">
                                                    <vaadin-date-picker value="{{data.adjudicacaoEncomendasData}}" id="adjudicacaoEncomendasData" name="adjudicacaoEncomendasData" label="Data Rec. Esperada"> </vaadin-date-picker>
                                                </div>
                                            </div>
                                            <div class="row break_clear">
                                                <div class="col-sm-12">
                                                    <br />
                                                    <paper-button raised id="btnNovaEncomendaAdjudicacaoAcordos" class="btn--confirm pull-right" on-tap="_novaEncomendaAdjudicacaoAcordos">Criar Encomenda</paper-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </iron-pages>

                <!-- Save and Create Buttons -->
                <div class="marginSpace">
                    <template is="dom-if" if="{{ _isCreate }}">
                        <paper-button raised id="btnCreate" class="btnSave" on-tap="_create"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp; Criar</paper-button>
                    </template>
                    <template is="dom-if" if="{{ !_isCreate }}">
                        <paper-button raised id="btnUpdate" class="btnSave" on-tap="_update"><i class="fa fa-floppy-o" aria-hidden="true"></i>&nbsp; Guardar</paper-button>
                        <paper-button raised id="btnCancel" class="btnRemove" on-tap="_delete"><i class="fa fa-undo" aria-hidden="true"></i>&nbsp; Eliminar</paper-button>
                    </template>
                </div>
            </div>
        </div>
        <paper-toast id="ToastMessage" duration="4000" horizontalAlign="right"></paper-toast>
        <paper-toast id="ToastMessageSuccess" duration="4000" horizontalAlign="right" class="toastSuccess">&nbsp;<i class="fa fa-check fa-lg" aria-hidden="true"></i></paper-toast>
        <paper-toast id="ToastMessageError" duration="4000" horizontalAlign="right" class="toastError">&nbsp;<i class="fa fa-exclamation-triangle" aria-hidden="true"></i></paper-toast>
    </template>

    <script>
        document.addEventListener('WebComponentsReady', function () {
            Polymer({
                is: 'x-procedimentodetails',
                properties: {
                    _procedimentoid: {
                        type: String,
                        notify: true,
                        value: ""
                    },
                    _procedimentotypeid: {
                        type: Number,
                        value: 0
                    },
                    _userName: {
                        type: String,
                        notify: true,
                        value: ""
                    },
                    selected: {
                        type: Number,
                        value: 0
                    },
                    unidadeProdutivaSelected: {
                        type: Number,
                        value: 0
                    },
                    _isCreate: {
                        type: Boolean,
                        value: false
                    },
                    chkPresidente: {
                        type: Boolean,
                        notify: true,
                        value: false
                    },
                    chkVogal: {
                        type: Boolean,
                        notify: true,
                        value: false
                    },
                    chkSuplente: {
                        type: Boolean,
                        notify: true,
                        value: false
                    },
                    chkSendMail: {
                        type: Boolean,
                        notify: true,
                        value: false
                    },
                    isJuriElementAction: {
                        type: Boolean,
                        value: false
                    },
                    userAllowed: {
                        type: Boolean,
                        value: true
                    },
                    __isElementArea: {
                        type: Boolean,
                        value: false
                    },
                    __isElementPreArea: {
                        type: Boolean,
                        value: false
                    },
                    __isElementPreArea0: {
                        type: Boolean,
                        value: false
                    },
                    __isElementCompras: {
                        type: Boolean,
                        value: false
                    },
                    __isElementJuri: {
                        type: Boolean,
                        value: false
                    },
                    __isElementContabilidade: {
                        type: Boolean,
                        value: false
                    },
                    __isElementJuridico: {
                        type: Boolean,
                        value: false
                    },
                    __isElementCA: {
                        type: Boolean,
                        value: false
                    },
                    __isGestorProcesso: {
                        type: Boolean,
                        value: false
                    },
                    __isSecretariadoCA: {
                        type: Boolean,
                        value: false
                    },
                    __isFechoProcesso: {
                        type: Boolean,
                        value: false
                    },
                    __comentarioArea: {
                        type: String,
                        notify: true,
                        value: ""
                    },

                    //NR 20180226
                    _CBItems: {
                        observer: '_setProductData'
                    },
                },
                _testFunction: function () {

                },
                ready: function () {
                    this.$.ajax_userpermissions.body = this.data;
                    this.$.ajax_userpermissions.generateRequest();

                    //NR 20180223
                    this.$.precoMaisBaixo.addEventListener('value-changed', function () {
                        //if (this.$.precoMaisBaixo.value == true) {
                        //    this.$.propostaEconMaisVantajosa.value = false;
                        //}
                        //else {
                        //    this.$.propostaEconMaisVantajosa.value = true;
                        //}
                    });;

                    this.$.propostaEconMaisVantajosa.addEventListener('value-changed', function () {
                        //if (this.$.propostaEconMaisVantajosa.value == true) {
                        //    this.$.precoMaisBaixo.value = false;
                        //}
                        //else {
                        //    this.$.precoMaisBaixo.value = true;
                        //}
                    });;
                },
                _openToast: function (message) {
                    this.$.ToastMessage.text = message;
                    this.$.ToastMessage.open();
                },
                _showMessage: function (message) {
                    this.$.ToastMessageSuccess.text = message;
                    this.$.ToastMessageSuccess.open();
                },
                _showErrorMessage: function (message) {
                    this.$.ToastMessageError.text = message;
                    this.$.ToastMessageError.open();
                },

                //NR 20180223
                _ConvertDecimals: function (e) {
                    e.target.value = e.target.value.replace(",", ".");
                },

                //NR 20180226
                _setProductData: function (e) {
                    var item = this.CBItems.find(x => x.code == e);
                    if (item != null) {
                        this.$._DescricaoProduto.value = item.name;
                        this.$._UnitMeasureCode.value = item.measureUnit;
                        //this.$._linhaCustoUnitario.value = item.lastCostDirect;
                    }
                },
                _confirmAndExecuteActionToast: function (_message, _ajaxRequest) {
                    bootbox.confirm({
                        message: _message,
                        buttons: {
                            confirm: {
                                label: 'Sim',
                                className: 'btn-success'
                            },
                            cancel: {
                                label: 'Não',
                                className: 'btn-danger'
                            }
                        },
                        callback: function (result) {
                            if (result) {
                                //_ajaxRequest.body = JSON.stringify(_Procedimento);
                                _ajaxRequest.generateRequest();
                            }
                        }
                    });
                },
                _validateData: function () {
                    if (false) {
                        this._openToast(validate);
                        return false;
                    }
                    return true;
                },

                //CRUDS
                _create: function () {
                    this.data.tipoProcedimento = this._procedimentotypeid;

                    if (this._validateData()) {
                        this._executeRequest("/ProcedimentosCcps/CreateProcedimento", this.data)
                    }
                },

                _update: function () {
                    if (this._onUpdateValidateElementoJuri()) {
                        //this._executeRequest("/ProcedimentosCcps/UpdateProcedimento", this.data)
                        this.$.ajax_update_procedimento.body = JSON.stringify(this.data);
                        this.$.ajax_update_procedimento.generateRequest();
                    }
                },

                _delete: function () {
                    var ajax_request = this.$.ajax_delete_procedimento;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Tem a certeza que pretende remover o Procedimento " + this.data.no + "?",
                        ajax_request
                    );
                },

                _updateProcedimentoResponse: function (e) {
                    if (this.ProcedimentoUpdated.eReasonCode != 0) {
                        this._openToast(this.ProcedimentoUpdated.eMessage);
                    } else {
                        this._openToast("Procedimento actualizado com sucesso.")
                    }
                },

                //Responses Processors
                _responseProcessor: function (data) {
                    var self = this;

                    if (data.detail.status === 200) {
                        if (data.detail.url.indexOf("GetProcedimento") !== -1) {
                            if (self.data.No == "") {
                                self._isCreate = true;
                                return;
                            }

                            self._setFieldsEditability(self.data);

                        } else if (data.detail.url.indexOf("Create") !== -1) {
                            self._createResponseProcessor();
                        } else if (data.detail.url.indexOf("Update") !== -1) {
                            if (!this.isJuriElementAction)
                                self._openToast("Procedimento atualizado com sucesso.")
                        }
                    } else {
                        self._openToast("Ocorreu um erro ao criar o Procedimento.")
                    }
                },

                _createResponseProcessor: function () {
                    if (this.data.eReasonCode == 1) {
                        this._isCreate = false;
                        this._openToast("Procedimento criado com sucesso.");
                    } else {
                        this._openToast(this.data.eMessage);
                    }
                },

                _responseValidatorProcessor: function (data) {
                    var self = this;
                },

                _responseDeleteProcessor: function (data) {
                    var self = this;
                    if (data.detail.status === 200) {
                        if (this.deletedData.eReasonCode != 0) {
                            this._openToast("Não é possivel eliminar o Procedimento.");
                        } else {
                            this._openToast(this.deletedData.eMessage);
                            setTimeout(
                                function () {
                                    window.location.replace("/");
                                }, 2500);
                        }
                    }
                },

                _userPermissionsResponseProcessor: function () {
                    if (this.UserAccesses == null) {
                        this._openToast("Não está autorizado a aceder a esta opção");
                        this.userAllowed = false;

                        setTimeout(
                            function () {
                            }, 3000);
                    }

                    if (this.userAllowed) {
                        this.$.page_databound_ajax.body = JSON.stringify({ "No": this._procedimentoid });
                        this.$.page_databound_ajax.generateRequest();

                        // set user permissions
                        for (var i in this.UserAccesses) {
                            switch (this.UserAccesses[i]) {
                                case "IsElementArea": this.__isElementArea = true;
                                    break;
                                case "IsElementPreArea0": this.__isElementPreArea0 = true;
                                    break;
                                case "IsElementPreArea": this.__isElementPreArea = true;
                                    break;
                                case "IsElementCompras": this.__isElementCompras = true;
                                    break;
                                case "IsElementJuri": this.__isElementJuri = true;
                                    break;
                                case "IsElementContabilidade": this.__isElementContabilidade = true;
                                    break;
                                case "IsElementJuridico": this.__isElementJuridico = true;
                                    break;
                                case "IsElementCA": this.__isElementCA = true;
                                    break;
                                case "IsGestorProcesso": this.__isGestorProcesso = true;
                                    break;
                                case "IsSecretariadoCA": this.__isSecretariadoCA = true;
                                    break;
                                case "IsFechoProcesso": this.__isFechoProcesso = true;
                                    break;
                            }
                        };

                        if (this._procedimentoid == "") {
                            this._isCreate = true;
                        }
                    }
                    else {
                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    }
                },

                // Create Elemento Juri
                _onUpdateValidateElementoJuri: function () {
                    for (var i in this.data.elementosJuri) {
                        if (!this.data.elementosJuri[i].presidente && !this.data.elementosJuri[i].vogal && !this.data.elementosJuri[i].suplente) {
                            this._openToast("Não escolheu qual a responsabilidade do utilizador: " + this.data.elementosJuri[i].utilizador + ".");
                            return false;
                        }

                        if ((this.data.elementosJuri[i].presidente && (this.data.elementosJuri[i].vogal || this.data.elementosJuri[i].suplente)) ||
                            (this.data.elementosJuri[i].vogal && (this.data.elementosJuri[i].presidente || this.data.elementosJuri[i].suplente)) ||
                            (this.data.elementosJuri[i].suplente && (this.data.elementosJuri[i].presidente || this.data.elementosJuri[i].vogal))) {

                            this._openToast("Apenas pode escolher uma das opções: Presidente, Vogal ou Suplente: " + this.data.elementosJuri[i].utilizador + ".");
                            return false;
                        }

                        if (this.data.elementosJuri[i].presidente) {
                            for (var j in this.data.elementosJuri) {
                                if ((this.data.elementosJuri[i].utilizador != this.data.elementosJuri[j].utilizador) && this.data.elementosJuri[j].presidente) {
                                    this._openToast("Já existe um presidente: " + this.data.elementosJuri[j].utilizador);
                                    return false;
                                }
                            }
                        }
                    }

                    return true;
                },
                _validateElementoJuriData: function () {
                    if (this._userName == "") {
                        this._openToast("Não escolheu um utilizador!");
                        return false;
                    } else if (!this.chkPresidente && !this.chkVogal && !this.chkSuplente) {
                        this._openToast("Não escolheu qual a responsabilidade do utilizador!");
                        return false;
                    } else if ((this.chkPresidente && (this.chkVogal || this.chkSuplente)) ||
                        (this.chkVogal && (this.chkPresidente || this.chkSuplente)) ||
                        (this.chkSuplente && (this.chkPresidente || this.chkVogal))) {

                        this._openToast("Apenas pode escolher uma das opções: Presidente, Vogal ou Suplente!");
                        return false;
                    } else
                        return true;
                },
                _createElementoJuri: function () {
                    this.isJuriElementAction = true;
                    if (this._validateElementoJuriData()) {
                        this._executeRequest("/ProcedimentosCcps/UpdateProcedimento", this.data);

                        this.$.ajax_createelementojuri.body = JSON.stringify({
                            noProcedimento: this.data.no,
                            utilizador: this._userName,
                            presidente: this.chkPresidente,
                            vogal: this.chkVogal,
                            suplente: this.chkSuplente,
                            enviarEmail: this.chkSendMail
                        });

                        this.$.ajax_createelementojuri.generateRequest();
                        this.$.gridElementosJuri.clearCache();
                    }
                },
                _createElementoJuriResponse: function (e) {
                    if (this.ElementoCreated.eReasonCode == 0) {
                        this._openToast('Elemento Júri adicionado com sucesso');
                        this.$.page_databound_ajax.generateRequest();

                        this.$.gridElementosJuri.clearCache();

                        this.$.users.value = "";
                        this.chkPresidente = false;
                        this.chkVogal = false;
                        this.chkSuplente = false;
                        this.chkSendMail = false;
                    } else {
                        if (this.ElementoCreated.eReasonCode == 3 || this.ElementoCreated.eReasonCode == 4) {
                            this._openToast(this.ElementoCreated.eMessage);
                        }
                        else {
                            this._openToast('Não foi possível criar o Elemento do Juri');
                        }
                    }
                },
                _deleteElementoJuri: function (e) {
                    this.isJuriElementAction = true;
                    var index = this.data.elementosJuri.indexOf(e.model.item);
                    this.data.elementosJuri.splice(index, 1);
                    this.$.ajax_deleteelementojuri.body = JSON.stringify({
                        noProcedimento: this.data.no,
                        noLinha: e.model.item.noLinha
                    });
                    this.$.ajax_deleteelementojuri.generateRequest();
                    this.$.gridElementosJuri.clearCache();

                },
                _deleteElementoJuriResponse: function (e) {
                    if (this.ElementoDeleted) {
                        this._openToast('Elemento Juri eliminado com sucesso');
                        this.$.gridElementosJuri.clearCache();
                    } else {
                        this._openToast('Não foi possível eliminar o Elemento do Juri!')
                    }
                },

                // Action of submitting Procedimento
                _onSubmitValidateProcedimento: function () {
                    if (this.data.informacaoTecnica == "" || this.data.informacaoTecnica == null) {
                        this._openToast("A Informação Técnica tem que estar preenchida!")
                        return false;
                    }

                    if (this.data.fundamentacaoAquisicao == "" || this.data.fundamentacaoAquisicao == null) {
                        this._openToast("A Fundamentação da Aquisição tem que estar preenchida!")
                        return false;
                    }

                    if (this.data.precoBase == null) {
                        this._openToast("Preço Base: tem que indicar um valor (Sim/Não)!")
                        return false;
                    } else if (this.data.precoBase && this.valorPrecoBase == 0) {
                        this._openToast("Preço Base = Sim: tem que indicar um valor!")
                        return false;
                    }

                    if (this.data.estimativaPreco == null || this.data.estimativaPreco == 0) {
                        this._openToast("Obrigatório definir uma Estimativa de Preço, mesmo que não seja definido Preço Base!");
                        return false;
                    }

                    if (this.data.negociacao == null) {
                        this._openToast("Negociação: tem que indicar um valor (Sim/Não)!")
                        return false;
                    }

                    if (this.data.prazo == "" || this.data.prazo == null) {
                        this._openToast("O Prazo para Prestação do Serviço, tem que ser indicado!!")
                        return false;
                    }

                    if (this.data.precoMaisBaixo == null) {
                        this._openToast("Preço Baixo: tem que indicar um valor (Sim/Não)!")
                        return false;
                    }

                    if (this.data.propostaEconMaisVantajosa == null) {
                        this._openToast("Proposta Economicamente mais Vantajosa: tem que indicar um valor (Sim/Não)!")
                        return false;
                    }

                    if (this.data.precoMaisBaixo && this.data.propostaEconMaisVantajosa) {
                        this._openToast("Preço Mais Baixo ou Proposta Economicamente mais vantajosa: apenas pode escolher uma das opções!");
                        return false;
                    }

                    if (this.data.propostaVariante == null) {
                        this._openToast("Proposta Variante: tem que indicar um valor (Sim/Não)!")
                        return false;
                    }

                    if (this.fornecedorExclusivo && (this.descFornecedorExclusivo == null || this.descFornecedorExclusivo == "")) {
                        this._openToast("Obrigatória a fundamentação da exclusividade do fornecedor!");
                        return false;
                    }

                    if (this.data.codigoRegiao == "" || this.data.codigoRegiao == null) {
                        this._openToast("O Código da Região tem que estar preenchido!")
                        return false;
                    }

                    if (this.data.codigoAreaFuncional == "" || this.data.codigoAreaFuncional == null) {
                        this._openToast("O Código da Àrea Funcional tem que estar preenchido!")
                        return false;
                    }

                    // zpgm.21112017_1900

                    return true;
                },
                _submitProcedimento: function () {
                    if (this.data.estado != 0) {
                        this._openToast("Não permitido neste estado!");
                        return;
                    }

                    if (this._onSubmitValidateProcedimento()) {
                        var ajax_request = this.$.ajax_submitprocedimento;
                        ajax_request.body = this.data;

                        this._confirmAndExecuteActionToast(
                            "Confirma a sumissão do Procedimento " + this.data.no,
                            ajax_request
                        );
                    }
                },
                _submitProcedimentoResponse: function (e) {
                    if (this.ProcedimentoSubmitted.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " submetido com sucesso!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(ProcedimentoSubmitted.eMessage);
                    }
                },

                // Contabilidade Confirm action
                _confirmImobilizadoContab: function () {
                    if (this.data.estado != 1) {
                        this._openToast('Neste estado não pode submeter o workflow!');
                        return;
                    }

                    var ajax_request = this.$.ajax_confirmImobContabilidade;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio à Área?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_confirmImobContabilidade.body = JSON.stringify(this.data);
                },
                _confirmImobilizadoContabResponse: function (e) {
                    if (this.ProcedimentoConfirmed.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " confirmado!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.ProcedimentoConfirmed.eMessage);
                    }
                },

                //NR 20180307
                _pedirAutorizacao: function () {
                    var ajax_request = this.$.ajax_pedirAutorizacao;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o envio do processo para autorização do CA?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_pedirAutorizacao.body = JSON.stringify(this.data);
                },
                _pedirAutorizacaoResponse: function (e) {
                    if (this.PedirAutorizacaoConfirmed.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.PedirAutorizacaoConfirmed.eMessage);
                    }
                },

                _devolverContabilidade: function () {
                    var ajax_request = this.$.ajax_devolverContabilidade;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma a Devolução à Contabilidade?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_devolverContabilidade.body = JSON.stringify(this.data);
                },
                _devolverContabilidadeResponse: function (e) {
                    if (this.DevolverContabilidadeConfirmed.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " devolvido!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.DevolverContabilidadeConfirmed.eMessage);
                    }
                },

                _fecharProcesso: function () {
                    var ajax_request = this.$.ajax_fecharProcesso;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Fecho do Processo?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_fecharProcesso.body = JSON.stringify(this.data);
                },
                _fecharProcessoResponse: function (e) {
                    if (this.FecharProcessoConfirmed.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " fechado!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.FecharProcessoConfirmed.eMessage);
                    }
                },
                
                //NR 20180223
                _nrmudasimnao: function (e) {
                    if (this.$.precoMaisBaixo.value == true) {
                        this.$.propostaEconMaisVantajosa.value = false;
                    } else if (this.$.precoMaisBaixo.value == false) {
                        this.$.propostaEconMaisVantajosa.value = true;
                    } else {
                        this.$.propostaEconMaisVantajosa.value = this.$.propostaEconMaisVantajosa.value;
                    }
                },
                _nrmudasimnaoinvertida: function (e) {
                    if (this.$.propostaEconMaisVantajosa.value == true) {
                        this.$.precoMaisBaixo.value = false;
                    } else if (this.$.propostaEconMaisVantajosa.value == false) {
                        this.$.precoMaisBaixo.value = true;
                    } else {
                        this.$.precoMaisBaixo.value = this.$.precoMaisBaixo.value;
                    }
                },
                _createLinhaProdutosServicos: function () {
                    this.$.page_createaLinhaProdutoServico_ajax.body = JSON.stringify({
                        nºProcedimento: this.$.no.value,
                        tipo: this.$.linhaTipo.value,
                        código: this.$._CBItems.value,
                        códLocalização: this.$._CBLocations.value,
                        descrição: this.$._DescricaoProduto.value,
                        códUnidadeMedida: this.$._UnitMeasureCode.value,
                        custoUnitário: this.$._linhaCustoUnitario.value,
                        quantARequerer: this.$._linhaQuantidadeRequerer.value,
                        códigoRegião: this.$.codigoRegiao.value,
                        códigoÁreaFuncional: this.$.codigoAreaFuncional.value,
                        códigoCentroResponsabilidade: this.$.codigoCentroResponsabilidade.value
                    });
                    this.$.page_createaLinhaProdutoServico_ajax.generateRequest();
                    this.$.tabLinhaProdutos.clearCache();
                },
                _createLinhaProdutoServicoResponse: function (e) {
                    if (this.LinhaProdutoServicoCreated) {
                        this.$.page_databound_ajax.generateRequest();
                        this._showMessage('Adicionada Linha com sucesso.');

                        this.$.tabLinhaProdutos.clearCache();

                        this.$.linhaTipo.value = "";
                        this.$._CBItems.value = "";
                        this.$._CBLocations.value = "";
                        this.$._DescricaoProduto.value = "";
                        this.$._UnitMeasureCode.value = "";
                        this.$._linhaCustoUnitario.value = "";
                        this.$._linhaQuantidadeRequerer.value = "";
                    }
                    else {
                        this._showErrorMessage('Ocorreu um erro ao adicionar a linha.');
                    }
                },

                //NR 20180227
                _deleteLinha: function (e) {
                    var index = this.data.linhasPEncomendaProcedimentosCcp.indexOf(e.model.item);
                    this.data.linhasPEncomendaProcedimentosCcp.splice(index, 1);
                    this.$.page_deleteLinhaProdutoServico_ajax.body = JSON.stringify({ nºProcedimento: e.model.item.noProcedimento, nºLinha: e.model.item.noLinha });
                    this.$.page_deleteLinhaProdutoServico_ajax.generateRequest();
                    this.$.tabLinhaProdutos.clearCache();

                },
                _deleteLinhaProdutoServicoResponse: function (e) {
                    if (this.LinhaProdutoServicoDeleted) {
                        this._openToast('Linha eliminada com sucesso');
                        this.$.tabLinhaProdutos.clearCache();
                    } else {
                        this._openToast('Não foi possível eliminar a Linha!')
                    }
                },

                //NR 20180301
                _enviarParaFinanceiros: function () {
                    if (this.data.estado < 4 || this.estado > 6) {
                        this._openToast('Neste Estado, não pode Enviar à Área Financeira!');
                        return;
                    }

                    if (this.data.tipo = 0) {
                        this._openToast('Antes de prosseguir, tem que definir o tipo de procedimento!');
                        return;
                    }

                    if (this.data.nomeProcesso = "") {
                        this._openToast('Antes de prosseguir, tem que definir o Nome do procedimento!');
                        return;
                    }

                    var ajax_request = this.$.ajax_enviarParaFinanceiros;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio à Área Financeira?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaFinanceiros.body = JSON.stringify( this.data );
                },
                _enviarParaFinanceirosResponse: function (e) {
                    if (this.EnviarParaFinanceiros.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para Financeira!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaFinanceiros.eMessage);
                    }
                },

                //NR 20180301
                _enviarParaJuridicos: function () {
                    if (this.data.estado < 4 || this.estado > 6) {
                        this._openToast('Neste Estado, não pode Enviar à Área Jurídica!');
                        return;
                    }

                    if (this.data.tipo = 0) {
                        this._openToast('Antes de prosseguir, tem que definir o tipo de procedimento!');
                        return;
                    }

                    if (this.data.nomeProcesso = "") {
                        this._openToast('Antes de prosseguir, tem que definir o Nome do procedimento!');
                        return;
                    }

                    var ajax_request = this.$.ajax_enviarParaJuridicos;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio à Área Juridica?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaJuridicos.body = JSON.stringify(this.data);
                },
                _enviarParaJuridicosResponse: function (e) {
                    if (this.EnviarParaJuridicos.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para Juridicos!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaJuridicos.eMessage);
                    }
                },

                //NR 20180302
                _enviarParaArea: function () {
                    if (this.data.estado != 4) {
                        this._openToast('Neste Estado, não pode Enviar à Área!');
                        return;
                    }

                    if (this.data.tipo = 0) {
                        this._openToast('Antes de prosseguir, tem que definir o tipo de procedimento!');
                        return;
                    }

                    if (this.data.nomeProcesso = "") {
                        this._openToast('Antes de prosseguir, tem que definir o Nome do procedimento!');
                        return;
                    }

                    var ajax_request = this.$.ajax_enviarParaArea;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio à Área?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaArea.body = JSON.stringify(this.data);
                },
                _enviarParaAreaResponse: function (e) {
                    if (this.EnviarParaArea.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para Área!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaArea.eMessage);
                    }
                },

                //Nr 20180308
                _enviarParaCAAbertura: function () {
                    var ajax_request = this.$.ajax_enviarParaCAAbertura;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio para CA Abertura?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaCAAbertura.body = JSON.stringify(this.data);
                },
                _enviarParaCAAberturaResponse: function (e) {
                    if (this.EnviarParaCAAbertura.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para CA Abertura!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaCAAbertura.eMessage);
                    }
                },
                _enviarParaCAAdjudicacao: function () {
                    var ajax_request = this.$.ajax_enviarParaCAAdjudicacao;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o envio a CA para autorização de abertura?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaCAAdjudicacao.body = JSON.stringify(this.data);
                },
                _enviarParaCAAdjudicacaoResponse: function (e) {
                    if (this.EnviarParaCAAdjudicacao.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para CA Abertura!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaCAAdjudicacao.eMessage);
                    }
                },
                _enviarParaArea_5: function () {
                    var ajax_request = this.$.ajax_enviarParaArea_5;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma o Envio à Área?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_enviarParaArea_5.body = JSON.stringify(this.data);
                },
                _enviarParaArea_5Response: function (e) {
                    if (this.EnviarParaArea_5.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para Área!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaArea_5.eMessage);
                    }
                },

                //NR 20180309
                _devolverACompras_5: function () {
                    debugger;
                    var ajax_request = this.$.ajax_devolverACompras_5;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma a devolução a Compras?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_devolverACompras_5.body = JSON.stringify(this.data);
                },
                _devolverACompras_5Response: function (e) {
                    debugger;
                    if (this.DevolverACompras_5.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " enviado para Área!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.DevolverACompras_5.eMessage);
                    }
                },


                //NR 20180306
                _devolverParaArea: function () {
                    var ajax_request = this.$.ajax_devolverParaArea;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma a Devolução do Processo à Área?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_devolverParaArea.body = JSON.stringify(this.data);
                },
                _devolverParaAreaResponse: function (e) {
                    if (this.DevolverParaArea.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " devolvido à Área!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaArea.eMessage);
                    }
                },


                // Imobilizado return to area
                _imobReturnToArea: function () {
                    var ajax_request = this.$.ajax_imobReturnToArea;
                    ajax_request.body = JSON.stringify({ "No": this.data.no });

                    this._confirmAndExecuteActionToast(
                        "Confirma a Devolução do Processo?", ajax_request
                    );

                    //NR 20180301 - Se não fizer isto, o this.data.nomeProcesso não leva o valor que têm!!!
                    this.data.nomeProcesso = this.$.nomeProcesso.value;

                    this.$.ajax_imobReturnToArea.body = JSON.stringify(this.data);
                },

                _imobReturnToAreaResponse: function (e) {
                    if (this.ProcedimentoReturnedToArea.eReasonCode == 0) {
                        this._openToast("Procedimento " + this.data.no + " devolvido!");
                        setTimeout(
                            function () {
                            }, 3000);

                        if (this._procedimentotypeid == 1)
                            window.location.replace("/ProcedimentosCcps/PedidoAquisicao/");
                        else
                            window.location.replace("/ProcedimentosCcps/PedidoSimplificado/");
                    } else {
                        this._openToast(this.EnviarParaArea.eMessage);
                    }
                },
                
                _setFieldsEditability(data) {
                    var _self = this;

                    //if (data.estado == 0) {
                    //    $(_self.$.actionButton1).addClass('disabled');
                    //}
                    // Disable controls
                    // 1. Procedimento status != 0.b
                    if (data.estado != 0) {
                        $(_self.$.gridElementosJuri).addClass('disabled');
                        $(_self.$.buttonCriarElementoJuri).addClass('disabled');
                        $(_self.$.submitProcedimento).addClass('disabled');
                        //$(_self.$.gridElementosJuri).addClass('disabled');
                        //$(_self.$.buttonCriarElementoJuri).addClass('disabled');

                        //NR 20180228
                        $(_self.$.btnCriarLinhaProdutosServicos).addClass('disabled');
                        $(_self.$.btnDeleteLinhaProdutoServico).addClass('disabled');

                        $(_self.$.tabLinhaProdutos).addClass('disabled');
                    }

                    _self.$.informacaoTecnica.disabled = (data.estado != 0);
                    _self.$.fundamentacaoAquisicao.disabled = (data.estado != 0);
                    _self.$.precoBase.disabled = (data.estado != 0);
                    _self.$.valorPrecoBase.disabled = (data.estado != 0);
                    _self.$.negociacao.disabled = (data.estado != 0);
                    _self.$.prazo.disabled = (data.estado != 0);
                    _self.$.users.disabled = (data.estado != 0);
                    _self.$._chkPresidente.disabled = (data.estado != 0);
                    _self.$._chkVogal.disabled = (data.estado != 0);
                    _self.$._chkSuplente.disabled = (data.estado != 0);
                    _self.$._chkSendMail.disabled = (data.estado != 0);
                    _self.$.comentarioAreaApresentar.disabled = (data.estado != 0);
                    _self.$.precoMaisBaixo.disabled = (data.estado != 0);
                    _self.$.descPrecoMaisBaixo.disabled = (data.estado != 0);
                    _self.$.propostaEconMaisVantajosa.disabled = (data.estado != 0);
                    _self.$.descPropostaEconMaisVantajosa.disabled = (data.estado != 0);
                    _self.$.propostaVariante.disabled = (data.estado != 0);
                    _self.$.descPropostaVariante.disabled = (data.estado != 0);
                    _self.$.abertoFechadoAoMercado.disabled = (data.estado != 0);
                    _self.$.descAbertoFechadoAoMercado.disabled = (data.estado != 0);
                    _self.$.prazoEntrega.disabled = (data.estado != 0);
                    _self.$.locaisEntrega.disabled = (data.estado != 0);
                    _self.$.observacoesAdicionais.disabled = (data.estado != 0);
                    _self.$.estimativaPreco.disabled = (data.estado != 0);
                    _self.$.fornecedoresSugeridos.disabled = (data.estado != 0);
                    _self.$.fornecedorExclusivo.disabled = (data.estado != 0);
                    _self.$.descFornecedorExclusivo.disabled = (data.estado != 0);
                    _self.$.interlocutor.disabled = (data.estado != 0);

                    //NR 20180228
                    _self.$.linhaTipo.disabled = (data.estado != 0);
                    _self.$._CBLocations.disabled = (data.estado != 0);
                    _self.$._CBItems.disabled = (data.estado != 0);
                    _self.$._DescricaoProduto.disabled = (data.estado != 0);
                    _self.$._DescricaoProduto2.disabled = (data.estado != 0);
                    _self.$._UnitMeasureCode.disabled = (data.estado != 0);
                    _self.$._linhaQuantidadeRequerer.disabled = (data.estado != 0);
                    _self.$._linhaCustoUnitario.disabled = (data.estado != 0);
                    _self.$.tabLinhaProdutos.disabled = (data.estado != 0);

                    //NR 20180305
                    _self.$.comentarioImobContabilidade.disabled = (data.estado != 1);
                    _self.$.ImobilizadoSimNao.disabled = (data.estado != 1);
                    if (data.estado != 1) {
                        $(_self.$.actionButtonContabilidade1).addClass('disabled');
                    }

                    _self.$.comentarioImobArea.disabled = (data.estado != 2);
                    if (data.estado != 2) {
                        $(_self.$.actionButtonArea2).addClass('disabled');
                    }

                    _self.$.comentarioImobCA.disabled = (data.estado != 3);
                    if (data.estado != 3) {
                        $(_self.$.btnAutorizarImobilizadoConfirm).addClass('disabled');
                        $(_self.$.btnAutorizarImobilizadoSuspend).addClass('disabled');
                        $(_self.$.btnAutorizarImobilizadoReject).addClass('disabled');
                    }

                    //NR 20180301
                    _self.$.criterioEscolhaProcedimento.disabled = (data.estado != 4);
                    _self.$.descEscolhaProcedimento.disabled = (data.estado != 4);
                    _self.$.juri.disabled = (data.estado != 4);
                    _self.$.nomeProcesso.disabled = (data.estado != 4);
                    _self.$.objetoDoContrato.disabled = (data.estado != 4);
                    _self.$.condicoesDePagamento.disabled = (data.estado != 4);
                    _self.$.gestorProcesso.disabled = (data.estado != 4);
                    _self.$.comentarioFundamentoCompras.disabled = (data.estado != 4);
                    _self.$.emailDestinoCa.disabled = (data.estado != 4);

                    if (data.estado != 4) {
                        $(_self.$.actionButtonCompras).addClass('disabled');
                    }

                    //NR 20180302
                    _self.$.comentarioFundamentoFinanceiros.disabled = (data.estado != 5);
                    if (data.estado != 5) {
                        $(_self.$.actionButtonFinanceiros).addClass('disabled');
                    }

                    //NR 20180305
                    _self.$.comentarioJuridico6.disabled = (data.estado != 6);

                    //NR 20180302
                    _self.$.fundamentacaoAreaComentario.disabled = (data.estado != 7);
                    if (data.estado != 7) {
                        $(_self.$.actionButtonPedidoAberturaProc).addClass('disabled');
                    }

                    //NR 20180305
                    _self.$.comentarioCA8.disabled = (data.estado != 8);
                    _self.$.ratificarCaAbertura.disabled = (data.estado != 8);
                    _self.$.criticoAbertura.disabled = (data.estado != 8);
                    if (data.estado != 8) {
                        $(_self.$.btnAberturaProcedimentoReject).addClass('disabled');
                        $(_self.$.btnAberturaProcedimentoConfirm).addClass('disabled');
                        $(_self.$.btnAberturaProcedimentoSuspend).addClass('disabled');
                    }

                    //NR 20180305
                    _self.$.comentarioPublicacao.disabled = (data.estado != 9);
                    _self.$.utilizadorPublicacao.disabled = (data.estado != 9);
                    _self.$.dataPublicacao.disabled = (data.estado != 9);
                    if (data.estado != 10) {
                        $(_self.$.btnConfirmPublicacaoNaPlataforma).addClass('disabled');
                    }
                    
                    _self.$.recolhaComentario.disabled = (data.estado != 10);
                    _self.$.dataRecolha.disabled = (data.estado != 10);
                    _self.$.utilizadorRecolha.disabled = (data.estado != 10);
                    if (data.estado != 10) {
                        $(_self.$.btnConfirmRecolhaPlataforma).addClass('disabled');
                    }

                    _self.$.comentarioRelatorioPreliminar.disabled = (data.estado != 11);
                    _self.$.dataValidRelatorioPreliminar.disabled = (data.estado != 11);
                    _self.$.utilizadorValidRelatorioPreliminar.disabled = (data.estado != 11);
                    if (data.estado != 11) {
                        $(_self.$.btnConfirmValidacaoRelatorio).addClass('disabled');
                    }

                    _self.$.comentarioAudienciaPrevia.disabled = (data.estado != 12);
                    _self.$.dataAudienciaPrevia.disabled = (data.estado != 12);
                    _self.$.utilizadorAudienciaPrevia.disabled = (data.estado != 12);
                    if (data.estado != 12) {
                        $(_self.$.btnConfirmAudienciaPrevia).addClass('disabled');
                    }

                    _self.$.comentarioRelatorioFinal.disabled = (data.estado != 13);
                    _self.$.dataRelatorioFinal.disabled = (data.estado != 13);
                    _self.$.utilizadorRelatorioFinal.disabled = (data.estado != 13);
                    if (data.estado != 13) {
                        $(_self.$.btnConfirmRelatorioFinal).addClass('disabled');
                    }

                    if ((data.estado != 9) &&
                        (data.estado != 10) &&
                        (data.estado != 11) &&
                        (data.estado != 12) &&
                        (data.estado != 13)) {
                        $(_self.$.btnSendToEvaluate).addClass('disabled');
                    }

                    _self.$.comentarioJuridico14.disabled = (data.estado != 14);
                    
                    _self.$.comentarioAdjudicacao15.disabled = (data.estado != 15);
                    _self.$.valorDecisaoContratar.disabled = (data.estado != 15);
                    _self.$.valorAdjudicacaoAnteriro.disabled = (data.estado != 15);
                    _self.$.valorAdjudicacaoAtual.disabled = (data.estado != 15);
                    _self.$.diferencaEuros.disabled = (data.estado != 15);
                    _self.$.diferencaPercent.disabled = (data.estado != 15);

                    _self.$.comentarioAdjudicacao16.disabled = (data.estado != 16);

                    _self.$.comentarioCA17.disabled = (data.estado != 17);
                    _self.$.ratificarCaAdjudicacao.disabled = (data.estado != 17);
                    _self.$.criticoAdjudicacao.disabled = (data.estado != 17);
                    if (data.estado != 17) {
                        $(_self.$.btnAutorizacaoAdjudicacaoConfirm).addClass('disabled');
                        $(_self.$.btnAutorizacaoAdjudicacaoSuspend).addClass('disabled');
                        $(_self.$.btnAutorizacaoAdjudicacaoReject).addClass('disabled');
                    }

                    _self.$.comentarioNotificacao.disabled = (data.estado != 18);
                    _self.$.dataNotificacao.disabled = (data.estado != 18);
                    _self.$.prazoNotificacaoDias.disabled = (data.estado != 18);
                    _self.$.utilizadorNotificacao.disabled = (data.estado != 18);
                    if (data.estado != 18) {
                        $(_self.$.btnConfirmAdjudicacaoNotificacao).addClass('disabled');
                    }

                         


                    // 1. Procedimento status != 0.e

                    // 2. Procedimento status != 1.b
                    //_self.$.contabilidadeComentario.disabled = (data.estado != 1 || !_self.__isElementContabilidade);
                    // 1. Procedimento status != 1.e

                    //esconder um campo
                    //_self.$.codigoRegiao.hidden = true;

                    //esconder uma seccao (adicionar id ao container da seccao)
                    //_self.$.seccaoTeste.hidden = true;

                },
                //Helpers
                _executeRequest: function (url, data) {
                    this.$.page_databound_ajax.url = url;
                    this.$.page_databound_ajax.body = JSON.stringify(data);
                    this.$.page_databound_ajax.generateRequest();
                }
            });
        });
    </script>
</dom-module>